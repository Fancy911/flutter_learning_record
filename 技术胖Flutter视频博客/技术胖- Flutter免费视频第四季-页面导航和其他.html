<!DOCTYPE html>
<!-- saved from url=(0039)https://jspang.com/detailed?id=44#toc21 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"><title>技术胖- Flutter免费视频第四季-页面导航和其他</title><meta name="description" content=" Flutter免费视频第四季-页面导航和其他"><link rel="icon" href="https://jspang.com/static/favicon.ico" mce_href="../static/favicon.ico" type="image/x-icon"><meta name="next-head-count" content="5"><link rel="preload" href="./技术胖- Flutter免费视频第四季-页面导航和其他_files/detailed.js.下载" as="script"><link rel="preload" href="./技术胖- Flutter免费视频第四季-页面导航和其他_files/_app.js.下载" as="script"><link rel="preload" href="./技术胖- Flutter免费视频第四季-页面导航和其他_files/webpack-4b444dab214c6491079c.js.下载" as="script"><link rel="preload" href="./技术胖- Flutter免费视频第四季-页面导航和其他_files/commons.feacce8b48cd0477acc6.js.下载" as="script"><link rel="preload" href="./技术胖- Flutter免费视频第四季-页面导航和其他_files/styles.ced8d62e68907a5fab6e.js.下载" as="script"><link rel="preload" href="./技术胖- Flutter免费视频第四季-页面导航和其他_files/main-6e6e334c1a3c61df2d4f.js.下载" as="script"><link rel="stylesheet" href="./技术胖- Flutter免费视频第四季-页面导航和其他_files/commons.26d25dc4.chunk.css"><link rel="stylesheet" href="./技术胖- Flutter免费视频第四季-页面导航和其他_files/styles.39f232eb.chunk.css"><link rel="preload" href="https://jspang.com/_next/static/lelxlvW6_6jgKu5q5j61K/pages/index.js" as="script"><link rel="preload" href="https://jspang.com/_next/static/lelxlvW6_6jgKu5q5j61K/pages/list.js" as="script"><link rel="preload" href="https://jspang.com/_next/static/lelxlvW6_6jgKu5q5j61K/pages/bibidao.js" as="script"><link rel="preload" href="https://jspang.com/_next/static/lelxlvW6_6jgKu5q5j61K/pages/gallery.js" as="script"></head><body><div id="__next"><div><div class="" style=""><div class="header"><div class="header-center"><div class="ant-row-flex ant-row-flex-center"><div class="ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-13"><span class="header-logo"><a href="https://jspang.com/"> 技术胖</a></span><span class="header-txt">专注前端开发,每年100集免费视频。</span></div><div class="ant-col memu-div ant-col-xs-0 ant-col-sm-0 ant-col-md-11"><div class="ant-row-flex"><div class="ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-6"><a href="https://jspang.com/"><i aria-label="icon: home" class="anticon anticon-home"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="home" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"></path></svg></i> 博客首页</a></div><div class="ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-6"><a href="https://jspang.com/list?id=1"><i aria-label="icon: youtube" class="anticon anticon-youtube"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="youtube" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M960 509.2c0-2.2 0-4.7-.1-7.6-.1-8.1-.3-17.2-.5-26.9-.8-27.9-2.2-55.7-4.4-81.9-3-36.1-7.4-66.2-13.4-88.8a139.52 139.52 0 0 0-98.3-98.5c-28.3-7.6-83.7-12.3-161.7-15.2-37.1-1.4-76.8-2.3-116.5-2.8-13.9-.2-26.8-.3-38.4-.4h-29.4c-11.6.1-24.5.2-38.4.4-39.7.5-79.4 1.4-116.5 2.8-78 3-133.5 7.7-161.7 15.2A139.35 139.35 0 0 0 82.4 304C76.3 326.6 72 356.7 69 392.8c-2.2 26.2-3.6 54-4.4 81.9-.3 9.7-.4 18.8-.5 26.9 0 2.9-.1 5.4-.1 7.6v5.6c0 2.2 0 4.7.1 7.6.1 8.1.3 17.2.5 26.9.8 27.9 2.2 55.7 4.4 81.9 3 36.1 7.4 66.2 13.4 88.8 12.8 47.9 50.4 85.7 98.3 98.5 28.2 7.6 83.7 12.3 161.7 15.2 37.1 1.4 76.8 2.3 116.5 2.8 13.9.2 26.8.3 38.4.4h29.4c11.6-.1 24.5-.2 38.4-.4 39.7-.5 79.4-1.4 116.5-2.8 78-3 133.5-7.7 161.7-15.2 47.9-12.8 85.5-50.5 98.3-98.5 6.1-22.6 10.4-52.7 13.4-88.8 2.2-26.2 3.6-54 4.4-81.9.3-9.7.4-18.8.5-26.9 0-2.9.1-5.4.1-7.6v-5.6zm-72 5.2c0 2.1 0 4.4-.1 7.1-.1 7.8-.3 16.4-.5 25.7-.7 26.6-2.1 53.2-4.2 77.9-2.7 32.2-6.5 58.6-11.2 76.3-6.2 23.1-24.4 41.4-47.4 47.5-21 5.6-73.9 10.1-145.8 12.8-36.4 1.4-75.6 2.3-114.7 2.8-13.7.2-26.4.3-37.8.3h-28.6l-37.8-.3c-39.1-.5-78.2-1.4-114.7-2.8-71.9-2.8-124.9-7.2-145.8-12.8-23-6.2-41.2-24.4-47.4-47.5-4.7-17.7-8.5-44.1-11.2-76.3-2.1-24.7-3.4-51.3-4.2-77.9-.3-9.3-.4-18-.5-25.7 0-2.7-.1-5.1-.1-7.1v-4.8c0-2.1 0-4.4.1-7.1.1-7.8.3-16.4.5-25.7.7-26.6 2.1-53.2 4.2-77.9 2.7-32.2 6.5-58.6 11.2-76.3 6.2-23.1 24.4-41.4 47.4-47.5 21-5.6 73.9-10.1 145.8-12.8 36.4-1.4 75.6-2.3 114.7-2.8 13.7-.2 26.4-.3 37.8-.3h28.6l37.8.3c39.1.5 78.2 1.4 114.7 2.8 71.9 2.8 124.9 7.2 145.8 12.8 23 6.2 41.2 24.4 47.4 47.5 4.7 17.7 8.5 44.1 11.2 76.3 2.1 24.7 3.4 51.3 4.2 77.9.3 9.3.4 18 .5 25.7 0 2.7.1 5.1.1 7.1v4.8zM423 646l232-135-232-133z"></path></svg></i> 视频教程</a></div><div class="ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-6"><a href="https://jspang.com/bibidao"><i aria-label="icon: message" class="anticon anticon-message"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="message" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M464 512a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm200 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm-400 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 0 0-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 0 0-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 0 0 112 714v152a46 46 0 0 0 46 46h152.1A449.4 449.4 0 0 0 510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 0 0 142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"></path></svg></i> 逼逼叨</a></div><div class="ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-6"><a href="https://jspang.com/gallery"><i aria-label="icon: camera" class="anticon anticon-camera"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="camera" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M864 248H728l-32.4-90.8a32.07 32.07 0 0 0-30.2-21.2H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 248H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V328c0-44.2-35.8-80-80-80zm8 536c0 4.4-3.6 8-8 8H160c-4.4 0-8-3.6-8-8V328c0-4.4 3.6-8 8-8h186.7l17.1-47.8 22.9-64.2h250.5l22.9 64.2 17.1 47.8H864c4.4 0 8 3.6 8 8v456zM512 384c-88.4 0-160 71.6-160 160s71.6 160 160 160 160-71.6 160-160-71.6-160-160-160zm0 256c-53 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96z"></path></svg></i> 图说生活</a></div></div></div></div></div></div></div></div><div class="ant-row-flex ant-row-flex-center comm-main"><div class="ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-18"><div><div class="ant-row"><div class="ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-24"><div class="comm-left"><div class="ant-list ant-list-split ant-list-grid"><div class="ant-list-header"><div class="bibidao-title"><div class="list-header left">大胖逼逼叨</div><div class="list-header right"><a href="https://jspang.com/bibidao">更多  <i aria-label="icon: right" class="anticon anticon-right"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></i> </a></div></div></div><div class="ant-spin-nested-loading"><div class="ant-spin-container"><div class="ant-row" style="margin-left:-5px;margin-right:-5px"><div style="padding-left:5px;padding-right:5px" class="ant-col ant-col-sm-0 ant-col-md-6"><div class="ant-list-item"><a href="https://www.bilibili.com/video/BV1sk4y1B71x/" target="_blank"><img src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/bbd-jiangpai.jpg" class="bbd-img"></a><div class="bbd-title"><a href="https://www.bilibili.com/video/BV1sk4y1B71x/" target="_blank"><span class="bbd-zi">B站给程序员发奖牌了 感谢所有粉丝<!-- --> </span></a></div></div></div><div style="padding-left:5px;padding-right:5px" class="ant-col ant-col-sm-0 ant-col-md-6"><div class="ant-list-item"><a href="https://www.bilibili.com/video/BV1uz4y1Q7Dq/" target="_blank"><img src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/bbd36.jpg" class="bbd-img"></a><div class="bbd-title"><a href="https://www.bilibili.com/video/BV1uz4y1Q7Dq/" target="_blank"><span class="bbd-zi">硅谷大佬都在用的程序十步学习法（下）<!-- --> </span></a></div></div></div><div style="padding-left:5px;padding-right:5px" class="ant-col ant-col-sm-0 ant-col-md-6"><div class="ant-list-item"><a href="https://www.bilibili.com/video/BV1mC4y1h7NF" target="_blank"><img src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/BBD35lOGO.jpg" class="bbd-img"></a><div class="bbd-title"><a href="https://www.bilibili.com/video/BV1mC4y1h7NF" target="_blank"><span class="bbd-zi">硅谷大佬都在用的程序十步学习法（上）<!-- --> </span></a></div></div></div><div style="padding-left:5px;padding-right:5px" class="ant-col ant-col-sm-0 ant-col-md-6"><div class="ant-list-item"><a href="https://www.bilibili.com/video/BV1Pk4y1B7j1" target="_blank"><img src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/bbd34logo.png" class="bbd-img"></a><div class="bbd-title"><a href="https://www.bilibili.com/video/BV1Pk4y1B7j1" target="_blank"><span class="bbd-zi">程序员自学成才指北-老程序员给新手的四条自学经验<!-- --> </span></a></div></div></div></div></div></div></div></div></div></div></div><div class="comm-left"><div class="bread-div"><div class="ant-breadcrumb"><span><span class="ant-breadcrumb-link"><a href="https://jspang.com/">首页</a></span><span class="ant-breadcrumb-separator">/</span></span><span><span class="ant-breadcrumb-link">视频教程</span><span class="ant-breadcrumb-separator">/</span></span><span><span class="ant-breadcrumb-link"> <!-- --> Flutter免费视频第四季-页面导航和其他</span><span class="ant-breadcrumb-separator">/</span></span></div></div><div><div class="detailed-title"> Flutter免费视频第四季-页面导航和其他</div><div class="list-icon center"><span><i aria-label="icon: calendar" class="anticon anticon-calendar"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="calendar" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"></path></svg></i> <!-- -->2019-12-05</span><span><i aria-label="icon: folder" class="anticon anticon-folder"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="folder" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M880 298.4H521L403.7 186.2a8.15 8.15 0 0 0-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"></path></svg></i> <!-- -->视频教程</span><span><i aria-label="icon: fire" class="anticon anticon-fire"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="fire" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M834.1 469.2A347.49 347.49 0 0 0 751.2 354l-29.1-26.7a8.09 8.09 0 0 0-13 3.3l-13 37.3c-8.1 23.4-23 47.3-44.1 70.8-1.4 1.5-3 1.9-4.1 2-1.1.1-2.8-.1-4.3-1.5-1.4-1.2-2.1-3-2-4.8 3.7-60.2-14.3-128.1-53.7-202C555.3 171 510 123.1 453.4 89.7l-41.3-24.3c-5.4-3.2-12.3 1-12 7.3l2.2 48c1.5 32.8-2.3 61.8-11.3 85.9-11 29.5-26.8 56.9-47 81.5a295.64 295.64 0 0 1-47.5 46.1 352.6 352.6 0 0 0-100.3 121.5A347.75 347.75 0 0 0 160 610c0 47.2 9.3 92.9 27.7 136a349.4 349.4 0 0 0 75.5 110.9c32.4 32 70 57.2 111.9 74.7C418.5 949.8 464.5 959 512 959s93.5-9.2 136.9-27.3A348.6 348.6 0 0 0 760.8 857c32.4-32 57.8-69.4 75.5-110.9a344.2 344.2 0 0 0 27.7-136c0-48.8-10-96.2-29.9-140.9zM713 808.5c-53.7 53.2-125 82.4-201 82.4s-147.3-29.2-201-82.4c-53.5-53.1-83-123.5-83-198.4 0-43.5 9.8-85.2 29.1-124 18.8-37.9 46.8-71.8 80.8-97.9a349.6 349.6 0 0 0 58.6-56.8c25-30.5 44.6-64.5 58.2-101a240 240 0 0 0 12.1-46.5c24.1 22.2 44.3 49 61.2 80.4 33.4 62.6 48.8 118.3 45.8 165.7a74.01 74.01 0 0 0 24.4 59.8 73.36 73.36 0 0 0 53.4 18.8c19.7-1 37.8-9.7 51-24.4 13.3-14.9 24.8-30.1 34.4-45.6 14 17.9 25.7 37.4 35 58.4 15.9 35.8 24 73.9 24 113.1 0 74.9-29.5 145.4-83 198.4z"></path></svg></i> <!-- -->9895</span><span><i aria-label="icon: file-ppt" class="anticon anticon-file-ppt"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="file-ppt" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M424 476c-4.4 0-8 3.6-8 8v276c0 4.4 3.6 8 8 8h32.5c4.4 0 8-3.6 8-8v-95.5h63.3c59.4 0 96.2-38.9 96.2-94.1 0-54.5-36.3-94.3-96-94.3H424zm150.6 94.3c0 43.4-26.5 54.3-71.2 54.3h-38.9V516.2h56.2c33.8 0 53.9 19.7 53.9 54.1zm280-281.7L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0 0 42 42h216v494z"></path></svg></i> 共<!-- -->6<!-- -->集</span></div><div class="detailed-content"><p>到目前为止，作一个页面已经没有什么问题了，接下来需要学习一下页面间的跳转，学会了这一季内容，就可以从一个单页面的应用制作一个项目了。</p>
<p>不过提前跟小伙伴们说一下，其实这章也是有难度的，因为这跟前端的导航或者说超链接有所不同。如果你能有空杯心态，学习来会容易一点。</p>
<p>不过你不要害怕，其实也不难，大不了多练习几遍，熟练一下就好。</p>
</div><div class="detailed-content"><p>学习这个视频，你最好先把Flutter的前三季给看了，否则你可能看蒙圈。</p>
<ul>
<li><p>第一季Flutter视频教程地址：<a href="https://jspang.com/posts/2019/01/20/flutter-base.html">https://jspang.com/posts/2019/01/20/flutter-base.html</a></p>
</li>
<li><p>第二季Flutter视频教程地址：<a href="https://jspang.com/posts/2019/01/21/flutter-base2.html">https://jspang.com/posts/2019/01/21/flutter-base2.html</a></p>
</li>
<li><p>第三季Flutter视频教程地址：<a href="https://jspang.com/posts/2019/01/28/flutter-base3.html">https://jspang.com/posts/2019/01/28/flutter-base3.html</a></p>
</li>
</ul>
<blockquote>
<p>学习讨论QQ群：806799257  </p>
</blockquote>
<blockquote>
<p>入群问题：Flutter出自于哪个公司？</p>
</blockquote>
<blockquote>
<p>入群答案：google</p>
</blockquote>
<a id="toc21" href="https://jspang.com/detailed?id=44#toc21" class="anchor-fix"><h2>第01节：一般页面导航和返回</h2></a>
<p><img src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/pvA-e9vkrNiXVFUm6xXMO9zf.jpg" alt="alt"></p>
<p>导航的使用在任何程序里都至关重要，这也是一个程序的灵魂。那这节我们就开始学习导航的知识。</p>
<iframe src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/player.html" scrolling="no" width="100%" border="1" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<a id="toc32" href="https://jspang.com/detailed?id=44#toc32" class="anchor-fix"><h3>RaisedButton按钮组件</h3></a>
<p>它有两个最基本的属性：</p>
<ul>
<li>child：可以放入容器，图标，文字。让你构建多彩的按钮。</li>
<li>onPressed：点击事件的相应，一般会调用<code>Navigator</code>组件。</li>
</ul>
<p>我们在作页面导航时，大量的使用了<code>RaisedButton</code>组件，这个组件的使用在实际工作中用的也比较多。</p>
<a id="toc33" href="https://jspang.com/detailed?id=44#toc33" class="anchor-fix"><h3>Navigator.push 和 Navigator.pop</h3></a>
<ul>
<li><p><code>Navigator.push</code>：是跳转到下一个页面，它要接受两个参数一个是上下文<code>context</code>，另一个是要跳转的函数。</p>
</li>
<li><p><code>Navigator.pop</code>：是返回到上一个页面，使用时传递一个context（上下文）参数，使用时要注意的是，你必须是有上级页面的，也就是说上级页面使用了<code>Navigator.push</code>。</p>
</li>
</ul>
<a id="toc34" href="https://jspang.com/detailed?id=44#toc34" class="anchor-fix"><h3>写一个Demo</h3></a>
<p>我们现在就来作一个简单的案例，我们打开一个页面，页面上只有一个简单的按钮，按钮写着“查看商品详情页面”，然后点击后进入下一个页面，页面有一个按钮，可以直接返回。</p>
<p><img src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/BYN5e6kWp08BM9k6oQpEMilD.jpg" alt="alt"></p>
<p>代码如下，一定要动手敲一敲哦。</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';

void main(){
  runApp(<span class="hljs-type">MaterialApp</span>(
    title:'导航演示<span class="hljs-number">1</span>',
    home:<span class="hljs-keyword">new</span> <span class="hljs-type">FirstScreen</span>()
  ));
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FirstScreen</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span></span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context){
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-type">Scaffold</span>(
      appBar: <span class="hljs-type">AppBar</span>(title:<span class="hljs-type">Text</span>('导航页面')),
      body:<span class="hljs-type">Center</span>(
        child:<span class="hljs-type">RaisedButton</span>(
          child:<span class="hljs-type">Text</span>('查看商品详情页面'),
          onPressed: (){
            <span class="hljs-type">Navigator</span>.push(context,<span class="hljs-keyword">new</span>  <span class="hljs-type">MaterialPageRoute</span>(
              builder:(context) =&gt;<span class="hljs-keyword">new</span> <span class="hljs-type">SecondScreen</span>())
            );
          },
        )
      )
    );
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SecondScreen</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span></span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context){
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      appBar:<span class="hljs-type">AppBar</span>(title:<span class="hljs-type">Text</span>('技术胖商品详情页')),
      body:<span class="hljs-type">Center</span>(child:<span class="hljs-type">RaisedButton</span>(
        child:<span class="hljs-type">RaisedButton</span>(
          child:<span class="hljs-type">Text</span>('返回'),
          onPressed: (){
            <span class="hljs-type">Navigator</span>.pop(context);
          },
        )
      ))
    );

  }
}
</code></pre><p>填坑，如果是1.0以下版本，热更新的时候会有时不能实现导航，这个需要你重新启动一下虚拟机。</p>
<a id="toc25" href="https://jspang.com/detailed?id=44#toc25" class="anchor-fix"><h2>第02节：导航参数的传递和接收（1）</h2></a>
<p>这节主要学习页面跳转的时候参数的传递和接受。什么是参数的传递和接受那？就是比如我们来到了娱乐场所，然后进来一队漂亮的服务人员，这时候我们需要挑选，服务人员身上的号码或者名称就是我们的参数，当我们把号码告诉给领班，这个小姐姐就可以为我们服务了。</p>
<iframe src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/player(1).html" scrolling="no" width="100%" border="1" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<p>这个挑选小姐姐的过程就是参数的传递和接受，用在程序上解释就是比如你进入一个商品选择列表，当你想选择一个商品的具体信息的时候，你就要传递商品编号，详细页面接受到编号后，显示出不同的内容。</p>
<a id="toc36" href="https://jspang.com/detailed?id=44#toc36" class="anchor-fix"><h3>Awesome Flutter snippets组件的使用</h3></a>
<p>因为这节课我们的代码有些多，这时候我们要加快敲代码的速度，可以使用VSCode 中的<code>Awesome Flutter snippets</code>插件。它可以帮忙我们快速生成常用的Flutter代码片段。</p>
<p>比如输入<code>stlss</code>就会给我们生成如下代码：</p>
<pre><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">name</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Container</span>(
      child: child,
    );
  }
}
</code></pre><p>安装完成后，我们可以看这个插件的说明，可以快速生成很多代码片段，我就不一个个给大家试了，小伙伴们可以自己测试。熟练掌握后，能大大加快我们的代码编写速度。</p>
<a id="toc37" href="https://jspang.com/detailed?id=44#toc37" class="anchor-fix"><h3>声明数据结构类</h3></a>
<p>Dart中可以使用类来抽象一个数据，比如我们模仿一个商品信息，有商品标题和商品描述。我们定义了一个Product类，里边有两个字符型变量，title和description。</p>
<ul>
<li>title:是商品标题。</li>
<li>description: 商品详情描述</li>
</ul>
<p>代码如下:</p>
<pre><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Product</span></span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> title;  <span class="hljs-comment">//商品标题</span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> description;  <span class="hljs-comment">//商品描述</span>
  Product(<span class="hljs-keyword">this</span>.title,<span class="hljs-keyword">this</span>.description);
}</code></pre><a id="toc38" href="https://jspang.com/detailed?id=44#toc38" class="anchor-fix"><h3>构建一个商品列表</h3></a>
<p>作一个商品的列表，这里我们采用动态的构造方法，在主方法里传递一个商品列表（List）到自定义的Widget中。</p>
<p>先来看看主方法的编写代码:</p>
<pre><code><span class="hljs-keyword">void</span> main(){
  runApp(MaterialApp(
    title:<span class="hljs-string">'数据传递案例'</span>,
    home:ProductList(
      products:<span class="hljs-built_in">List</span>.generate(
        <span class="hljs-number">20</span>, 
        (i)=&gt;Product(<span class="hljs-string">'商品 <span class="hljs-subst">$i</span>'</span>,<span class="hljs-string">'这是一个商品详情，编号为:<span class="hljs-subst">$i</span>'</span>)
      ),
    )
  ));
}</code></pre><p>上面的代码是主路口文件，主要是在home属性中，我们使用了ProductList，这个自定义组件，而且时候会报错，因为我们缺少这个组件。这个组件我们传递了一个products参数，也就是商品的列表数据，这个数据是我们用<code>List.generate</code>生成的。并且这个生成的List原型就是我们刚开始定义的Product这个类（抽象数据）。</p>
<p>ProductList自定义组件的代码：</p>
<pre><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductList</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span></span>{
  <span class="hljs-keyword">final</span> <span class="hljs-type">List</span>&lt;<span class="hljs-type">Product</span>&gt; products;
  <span class="hljs-type">ProductList</span>({<span class="hljs-type">Key</span> key,<span class="hljs-meta">@required</span> <span class="hljs-keyword">this</span>.products}):<span class="hljs-keyword">super</span>(key:key);
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      appBar: <span class="hljs-type">AppBar</span>(title:<span class="hljs-type">Text</span>('商品列表')),
      body:<span class="hljs-type">ListView</span>.builder(
        itemCount:products.length,
        itemBuilder: (context,index){
          <span class="hljs-keyword">return</span> <span class="hljs-type">ListTile</span>(
            title:<span class="hljs-type">Text</span>(products[index].title),
            onTap:(){
            }
          );
        },
      )
    );
  }
}</code></pre><p>先接受了主方法传递过来的参数，接受后用<code>ListView.builder</code>方法，作了一个根据传递参数数据形成的动态列表。</p>
<a id="toc29" href="https://jspang.com/detailed?id=44#toc29" class="anchor-fix"><h2>第03节：导航参数的传递和接收（2）</h2></a>
<p>接着上节课的代码讲解，上节课已经有了商品列表，下面要做的就是把商品数据传递过去，然后显示商品详情页面。</p>
<iframe src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/player(2).html" scrolling="no" width="100%" border="1" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>


<a id="toc310" href="https://jspang.com/detailed?id=44#toc310" class="anchor-fix"><h3>导航参数的传递</h3></a>
<p>我们还是使用<code>Navigator</code>组件，然后使用路由<code>MaterialPageRoute</code>传递参数，具体代码如下。</p>
<pre><code>Navigator.<span class="hljs-built_in">push</span>(
  <span class="hljs-built_in">context</span>, 
  MaterialPageRoute(
    builder:(<span class="hljs-built_in">context</span>)=&gt;<span class="hljs-built_in">new</span> ProductDetail(<span class="hljs-built_in">product</span>:products[index])
  )
);</code></pre><p>这段代码要写在onTap相应事件当中。这时候<code>ProductDetail</code>会报错，因为我们还没有生命这个组件或者说是类。</p>
<a id="toc311" href="https://jspang.com/detailed?id=44#toc311" class="anchor-fix"><h3>子页面接受参数并显示</h3></a>
<p>现在需要声明<code>ProductDetail</code>这个类（组件），先要作的就是接受参数，具体代码如下。</p>
<pre><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductDetail</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-type">Product</span> product;
  <span class="hljs-type">ProductDetail</span>({<span class="hljs-type">Key</span> key ,<span class="hljs-meta">@required</span> <span class="hljs-keyword">this</span>.product}):<span class="hljs-keyword">super</span>(key:key);


  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-type">Scaffold</span>(
      appBar: <span class="hljs-type">AppBar</span>(
        title:<span class="hljs-type">Text</span>('${product.title}'),
      ),
      body:<span class="hljs-type">Center</span>(child: <span class="hljs-type">Text</span>('${product.description}'),)
    );
  }
}</code></pre><p>先接受了参数，并把数据显示在了页面中。</p>
<a id="toc312" href="https://jspang.com/detailed?id=44#toc312" class="anchor-fix"><h3>Demo全部代码如下</h3></a>
<p>为了更好的帮助大家学习，我把所有的传递参数和接受参数的代码附在了下面。</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';

<span class="hljs-comment">//传递的数据结构,也可以理解为对商品数据的抽象</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Product</span></span>{
  <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> title;  <span class="hljs-comment">//商品标题</span>
  <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> description;  <span class="hljs-comment">//商品描述</span>
  <span class="hljs-type">Product</span>(<span class="hljs-keyword">this</span>.title,<span class="hljs-keyword">this</span>.description);
}

void main(){
  runApp(<span class="hljs-type">MaterialApp</span>(
    title:'数据传递案例',
    home:<span class="hljs-type">ProductList</span>(
      products:<span class="hljs-type">List</span>.generate(
        <span class="hljs-number">20</span>, 
        (i)=&gt;<span class="hljs-type">Product</span>('商品 $i','这是一个商品详情，编号为:$i')
      ),
    )
  ));
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductList</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span></span>{
  <span class="hljs-keyword">final</span> <span class="hljs-type">List</span>&lt;<span class="hljs-type">Product</span>&gt; products;
  <span class="hljs-type">ProductList</span>({<span class="hljs-type">Key</span> key,<span class="hljs-meta">@required</span> <span class="hljs-keyword">this</span>.products}):<span class="hljs-keyword">super</span>(key:key);
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      appBar: <span class="hljs-type">AppBar</span>(title:<span class="hljs-type">Text</span>('商品列表')),
      body:<span class="hljs-type">ListView</span>.builder(
        itemCount:products.length,
        itemBuilder: (context,index){
          <span class="hljs-keyword">return</span> <span class="hljs-type">ListTile</span>(
            title:<span class="hljs-type">Text</span>(products[index].title),
            onTap:(){
              <span class="hljs-type">Navigator</span>.push(
                context, 
                <span class="hljs-type">MaterialPageRoute</span>(
                  builder:(context)=&gt;<span class="hljs-keyword">new</span> <span class="hljs-type">ProductDetail</span>(product:products[index])
                )
              );
            }
          );
        },
      )
    );
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductDetail</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-type">Product</span> product;
  <span class="hljs-type">ProductDetail</span>({<span class="hljs-type">Key</span> key ,<span class="hljs-meta">@required</span> <span class="hljs-keyword">this</span>.product}):<span class="hljs-keyword">super</span>(key:key);


  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-type">Scaffold</span>(
      appBar: <span class="hljs-type">AppBar</span>(
        title:<span class="hljs-type">Text</span>('${product.title}'),
      ),
      body:<span class="hljs-type">Center</span>(child: <span class="hljs-type">Text</span>('${product.description}'),)
    );
  }
}
</code></pre><a id="toc213" href="https://jspang.com/detailed?id=44#toc213" class="anchor-fix"><h2>第04节：页面跳转并返回数据</h2></a>
<p>这节课学一下页面跳转后，当我们返回页面时返回结果到上一个页面（也就是父页面）。这样的场景经常用于，我们去子页面选择了一项选项，然后把选择的结果返回给父级页面。</p>
<p>这节课要作的例子是这样的，要去找小姐姐，当进入房间后，找到自己喜欢的小姐姐，然后小姐姐给了我们电话，我们这时候就在主页面显示出选择的小姐姐电话。</p>
<iframe src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/player(3).html" width="100%" scrolling="no" border="1" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<a id="toc314" href="https://jspang.com/detailed?id=44#toc314" class="anchor-fix"><h3>异步请求和等待</h3></a>
<p>Dart中的异步请求和等待和ES6中的方法很像，直接使用async...await就可以实现。比如下面作了一个找小姐姐的方法，然后进行跳转，注意这时候是异步的。等待结果回来之后，我们再显示出来内容。具体代码如下：</p>
<pre><code>  <span class="hljs-constructor">_navigateToXiaoJieJie(BuildContext <span class="hljs-params">context</span>)</span> async{ <span class="hljs-comment">//async是启用异步方法</span>

    final result = await <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Navigator</span>.</span></span>push(<span class="hljs-comment">//等待</span>
      context, 
      <span class="hljs-constructor">MaterialPageRoute(<span class="hljs-params">builder</span>: (<span class="hljs-params">context</span>)</span>=&gt; <span class="hljs-constructor">XiaoJieJie()</span>)
      );

      <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Scaffold</span>.</span></span><span class="hljs-keyword">of</span>(context).show<span class="hljs-constructor">SnackBar(SnackBar(<span class="hljs-params">content</span>:Text('$<span class="hljs-params">result</span>')</span>));
  }
}</code></pre><a id="toc315" href="https://jspang.com/detailed?id=44#toc315" class="anchor-fix"><h3>SnackBar的使用</h3></a>
<p><code>SnackBar</code>是用户操作后，显示提示信息的一个控件，类似<code>Tost</code>，会自动隐藏。<code>SnackBar</code>是以<code>Scaffold</code>的<code>showSnackBar</code>方法来进行显示的。</p>
<pre><code><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Scaffold</span>.</span></span><span class="hljs-keyword">of</span>(context).show<span class="hljs-constructor">SnackBar(SnackBar(<span class="hljs-params">content</span>:Text('$<span class="hljs-params">result</span>')</span>));</code></pre><a id="toc316" href="https://jspang.com/detailed?id=44#toc316" class="anchor-fix"><h3>返回数据的方式</h3></a>
<p>返回数据其实是特别容易的，只要在返回时带第二个参数就可以了。</p>
<pre><code> Navigator.<span class="hljs-keyword">pop</span>(context,<span class="hljs-string">'xxxx'</span>);  <span class="hljs-comment">//xxx就是返回的参数</span></code></pre><a id="toc317" href="https://jspang.com/detailed?id=44#toc317" class="anchor-fix"><h3>找小姐姐Demo代码</h3></a>
<p>这节课的代码其实挺多的，我把所有代码都放到下面，你可以在看完视频后，照着练习。</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';

void main(){
  runApp(<span class="hljs-type">MaterialApp</span>(
    title:'页面跳转返回数据',
    home:<span class="hljs-type">FirstPage</span>()
  ));
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FirstPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      appBar:<span class="hljs-type">AppBar</span>(title:<span class="hljs-type">Text</span>(<span class="hljs-string">"找小姐姐要电话"</span>)),
      body:<span class="hljs-type">Center</span>(
        child: <span class="hljs-type">RouteButton</span>(),
      )
    );
  }
}

<span class="hljs-comment">//跳转的Button</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RouteButton</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">RaisedButton</span>(
      onPressed:(){
          _navigateToXiaoJieJie(context);
      },
      child: <span class="hljs-type">Text</span>('去找小姐姐'),
    );
  }

  _navigateToXiaoJieJie(<span class="hljs-type">BuildContext</span> context) async{ <span class="hljs-comment">//async是启用异步方法</span>

    <span class="hljs-keyword">final</span> result = await <span class="hljs-type">Navigator</span>.push(<span class="hljs-comment">//等待</span>
      context, 
      <span class="hljs-type">MaterialPageRoute</span>(builder: (context)=&gt; <span class="hljs-type">XiaoJieJie</span>())
      );

      <span class="hljs-type">Scaffold</span>.of(context).showSnackBar(<span class="hljs-type">SnackBar</span>(content:<span class="hljs-type">Text</span>('$result')));
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">XiaoJieJie</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Scaffold</span>(
      appBar:<span class="hljs-type">AppBar</span>(
        title:<span class="hljs-type">Text</span>('我是小姐姐')
      ),
      body:<span class="hljs-type">Center</span>(
        child:<span class="hljs-type">Column</span>(
          children: &lt;<span class="hljs-type">Widget</span>&gt;[
            <span class="hljs-type">RaisedButton</span>(
              child: <span class="hljs-type">Text</span>('大长腿小姐姐'),
              onPressed: (){
                <span class="hljs-type">Navigator</span>.pop(context,'大长腿:<span class="hljs-number">1511008888</span>');
              },
            ) ,
            <span class="hljs-type">RaisedButton</span>(
              child: <span class="hljs-type">Text</span>('小蛮腰小姐姐'),
              onPressed: (){
                <span class="hljs-type">Navigator</span>.pop(context,'大长腿:<span class="hljs-number">1511009999</span>');
              },
            ) ,
          ],
        ) 
      ) ,
    );
  }
}</code></pre><a id="toc218" href="https://jspang.com/detailed?id=44#toc218" class="anchor-fix"><h2>第05节：静态资源和项目图片的处理</h2></a>
<p>我们讲图片组件的时候，多使用了网络图片进行讲解，所以造成了小伙伴不会使用项目资源图片，这是我的锅，所以在这里给大家补上。</p>
<iframe src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/player(4).html" width="100%" scrolling="no" border="1" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>


<a id="toc319" href="https://jspang.com/detailed?id=44#toc319" class="anchor-fix"><h3>pubspec.yaml 文件</h3></a>
<p>如果想配置项目资源文件，就需要使用<code>pubspec.yaml</code>文件，需要把资源文件在这里声明。</p>
<p>比如在项目根目录下新建了一个<code>images</code>文件夹，文件夹下面放了一个图片，图片的名称叫做<code>blogtouxiang.jpg</code>，那我们在<code>pubspec.yaml</code>文件里就要写如下代码进行声明。</p>
<pre><code>  assets:
<span class="hljs-bullet">    - </span>images/blogtouxiang.jpg</code></pre><a id="toc320" href="https://jspang.com/detailed?id=44#toc320" class="anchor-fix"><h3>使用项目图片资源</h3></a>
<p>有了声明后，我们就可以直接在项目中引用这个文件了。这里使用最简单的代码结构，只用了一张图片。代码如下:</p>
<pre><code><span class="hljs-keyword">import</span> <span class="hljs-symbol">'package</span>:flutter/material.dart';

void main()=&gt;runApp(<span class="hljs-type">MyApp</span>());

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">Container</span>(
      child: <span class="hljs-type">Image</span>.asset(<span class="hljs-symbol">'images</span>/blogtouxiang.jpg'),
    );
  }
}</code></pre><p>这时候已经在项目中引入成功了，可以预览看一下效果。当然样子很丑，这里主要时学知识，就不做过多的修饰了。</p>
<a id="toc221" href="https://jspang.com/detailed?id=44#toc221" class="anchor-fix"><h2>第06节：Flutter客户端打包</h2></a>
<p>到现在为止，我相信小伙伴都能做出一些漂亮的页面了，也有了难道朋友面前显一显的冲动。想要安装到手机上，我们必须要进行打包，这节课我们就学学Android客户端如何打包apk。</p>
<iframe src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/player(5).html" width="100%" scrolling="no" border="1" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<p>其实这个打包的坑还是比较多的，官方文档显然是站在大神级程序员的角度写的，所以如果你看文档，特别是前端，那基本是打不成功的。</p>
<p>不要怕，我这里就详细的把打包的过程和坑给大家演示一下。</p>
<a id="toc322" href="https://jspang.com/detailed?id=44#toc322" class="anchor-fix"><h3>配置APP的图标</h3></a>
<p>想配置APP的图片，你需要找到下面的目录：</p>
<blockquote>
<p>项目根目录/android/app/src/main/res/</p>
</blockquote>
<p>进入之后你会看到很多mipmap-为前缀命名的文件夹，后边的是像素密度，可以看出图标的分辨率。</p>
<ul>
<li>mdpi (中)   ~160dpi</li>
<li>hdpi （高） ~240dip </li>
<li>xhdpi （超高） ~320dip </li>
<li>xxhdpi （超超高） ~480dip </li>
<li>xxxhdpi （超超超高） ~640dip </li>
</ul>
<p>将对应像素密度的图片放入对应的文件夹中,图片记得用png格式，记得名字要统一，才能一次性进行配置。</p>
<a id="toc323" href="https://jspang.com/detailed?id=44#toc323" class="anchor-fix"><h3>AndroidManifest.xml 文件</h3></a>
<p>这个文件主要用来配置APP的名称、图标和系统权限，所在的目录在:</p>
<blockquote>
<p>项目根目录/android/app/src/main/AndroidManifest.xml</p>
</blockquote>
<pre><code><span class="hljs-symbol">android:</span>label=<span class="hljs-string">"flutter_app"</span>   <span class="hljs-comment">//配置APP的名称，支持中文</span>
<span class="hljs-symbol">android:</span>icon=<span class="hljs-string">"@mipmap/ic_launcher"</span> <span class="hljs-comment">//APP图标的文件名称</span></code></pre><a id="toc324" href="https://jspang.com/detailed?id=44#toc324" class="anchor-fix"><h3>生成 keystore</h3></a>
<p>这里的坑挺多的，小伙伴一定要注意。官方写的非常简单，只要在终端运行如下代码就可以成功,但事实是报错。</p>
<pre><code>keytool -genkey -v -keystore ~/<span class="hljs-type">key</span>.jks -keyalg RSA -keysize <span class="hljs-number">2048</span> -validity <span class="hljs-number">10000</span> -alias <span class="hljs-type">key</span></code></pre><p>报错截图如下：</p>
<p><img src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/5xuQKZ9PfP4YniYgWcNR53j4.png" alt="alt"></p>
<p>根本找不到这个目录，真的很坑，其实我们只是没有配置环境变量。但是为了一个包配置环境变量是不知道的。</p>
<p>这时候可以用下面的命令找到keytool.exe的位置。</p>
<pre><code><span class="hljs-attribute">flutter doctor -v</span></code></pre><p><img src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/cHrgJ3SdAqFk1Ivta82vIP7g.png" alt="alt"></p>
<p>这时候你直接拷贝命令并进行输入，但这里也有个坑，就是如果文件夹中间带有空空，你需要用带引号扩上。</p>
<pre><code>D:<span class="hljs-symbol">\P</span>rogram<span class="hljs-symbol">\A</span>ndroid<span class="hljs-symbol">\'</span>Android Studio'<span class="hljs-symbol">\j</span>re<span class="hljs-symbol">\b</span>in<span class="hljs-symbol">\k</span>eytool -genkey -v -keystore ~/key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias key</code></pre><p>这就可以了吗？那你就太天真了，还是会报错。</p>
<p><img src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/7dTEF6Pshi4qew0-p-MWXNtX.png" alt="alt"></p>
<p>这个错误的主要问题是目录不存在和没有写权限，所以我们要更换一个有写权限的目录。我们把命令改成了下面的形式。</p>
<pre><code> D:<span class="hljs-symbol">\P</span>rogram<span class="hljs-symbol">\A</span>ndroid<span class="hljs-symbol">\'</span>Android Studio'<span class="hljs-symbol">\j</span>re<span class="hljs-symbol">\b</span>in<span class="hljs-symbol">\k</span>eytool -genkey -v -keystore D:<span class="hljs-symbol">\k</span>ey.jks -keyalg RSA -keysize 2048 -validity 10000 -alias key</code></pre><p>这时候就可以创建成功了。你的D盘下面就会有一个Jks的文件，记住这个文件不能共享给任何人。</p>
<p>有了这个key.jks文件后，可以到项目目录下的<code>android</code>文件夹下，创建一个名为key.properties的文件，并打开粘贴下面的代码。</p>
<pre><code>storePassword=&lt;password <span class="hljs-keyword">from</span> <span class="hljs-keyword">previous</span> <span class="hljs-keyword">step</span>&gt;    <span class="hljs-comment">//输入上一步创建KEY时输入的 密钥库 密码</span>
keyPassword=&lt;password <span class="hljs-keyword">from</span> <span class="hljs-keyword">previous</span> <span class="hljs-keyword">step</span>&gt;    <span class="hljs-comment">//输入上一步创建KEY时输入的 密钥 密码</span>
keyAlias=key
storeFile=&lt;E:<span class="hljs-regexp">/key.jks&gt;    /</span><span class="hljs-regexp">/key.jks的存放路径</span></code></pre><p>我的文件最后是这样的：</p>
<pre><code><span class="hljs-attr">storePassword</span>=<span class="hljs-number">123123</span>
<span class="hljs-attr">keyPassword</span>=<span class="hljs-number">123123</span>
<span class="hljs-attr">keyAlias</span>=key
<span class="hljs-attr">storeFile</span>=D:/key.jks</code></pre><p>这个工作中也不要分享出去哦，这个Key就算生成成功了。</p>
<a id="toc325" href="https://jspang.com/detailed?id=44#toc325" class="anchor-fix"><h3>配置key注册</h3></a>
<p>key生成好后，需要在build.gradle文件中进行配置。这个过程其实很简单，就是粘贴复制一些东西，你是不需要知道这些文件的具体用处的。</p>
<p>第一项：</p>
<p>进入项目目录的/android/app/build.gradle文件，在<code>android{</code>这一行前面,加入如下代码：</p>
<pre><code><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">keystorePropertiesFile</span> = <span class="hljs-title">rootProject</span>.<span class="hljs-title">file</span><span class="hljs-params">(<span class="hljs-string">"key.properties"</span>)</span></span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">keystoreProperties</span> = <span class="hljs-title">new</span> <span class="hljs-title">Properties</span><span class="hljs-params">()</span></span>
keystoreProperties.load(new FileInputStream(keystorePropertiesFile))</code></pre><p>把如下代码进行替换</p>
<pre><code><span class="hljs-section">buildTypes</span> {
    <span class="hljs-section">release</span> {
        <span class="hljs-attribute">signingConfig</span> signingConfigs.<span class="hljs-literal">debug</span>
    }
}</code></pre><p>替换成的代码：</p>
<pre><code><span class="hljs-section">signingConfigs</span> {
    <span class="hljs-section">release</span> {
        <span class="hljs-attribute">keyAlias</span> keystoreProperties[<span class="hljs-string">'keyAlias'</span>]
        keyPassword keystoreProperties[<span class="hljs-string">'keyPassword'</span>]
        storeFile file(keystoreProperties[<span class="hljs-string">'storeFile'</span>])
        storePassword keystoreProperties[<span class="hljs-string">'storePassword'</span>]
    }
}
buildTypes {
    <span class="hljs-section">release</span> {
        <span class="hljs-attribute">signingConfig</span> signingConfigs.release
    }
}</code></pre><a id="toc326" href="https://jspang.com/detailed?id=44#toc326" class="anchor-fix"><h3>生成apk</h3></a>
<p>直接在终端中输入：</p>
<pre><code><span class="hljs-symbol">flutter</span> <span class="hljs-keyword">build </span>apk</code></pre><p>这时候就打包成功了，剩下的安装过程我就省略，不作过多的介绍了。</p>
</div><div class="comment"><div class="no-comment">对不起，该文章暂时不支持留言。</div><div class="comment-list"><div class="ant-list ant-list-vertical ant-list-split"><div class="ant-list-header"><div class="list-header">最新留言</div></div><div class="ant-spin-nested-loading"><div class="ant-spin-container"><div class="ant-list-empty-text"><div class="ant-empty ant-empty-normal"><div class="ant-empty-image"><svg width="64" height="41" viewBox="0 0 64 41" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 1)" fill="none" fill-rule="evenodd"><ellipse fill="#F5F5F5" cx="32" cy="33" rx="32" ry="7"></ellipse><g fill-rule="nonzero" stroke="#D9D9D9"><path d="M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"></path><path d="M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z" fill="#FAFAFA"></path></g></g></svg></div><p class="ant-empty-description">No Data</p></div></div></div></div></div></div></div></div></div></div><div class="ant-col comm-right ant-col-xs-0 ant-col-sm-0 ant-col-md-6"><div class="author-div comm-box"><div> <span style="width:100px;height:100px;line-height:100px;font-size:18px" class="ant-avatar ant-avatar-circle ant-avatar-image"><img src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/blogtouxiang1.jpg"></span></div><div class="author-introduction"><div class="author-name">技术胖</div><div>专注于WEB和移动前端开发</div><div class="author-tag"><span class="ant-tag ant-tag-magenta">光头Coder</span><span class="ant-tag ant-tag-green">12年经验</span><span class="ant-tag ant-tag-geekblue">业余讲师</span><span class="ant-tag ant-tag-blue">免费视频<span>636</span> 集</span><span class="ant-tag ant-tag-cyan">被访问<span>878730</span>次</span></div><div class="ant-divider ant-divider-horizontal ant-divider-with-text-center" role="separator"><span class="ant-divider-inner-text">社交账号</span></div><a href="https://space.bilibili.com/165659472" target="_blank"><span style="width:28px;height:28px;line-height:28px;font-size:18px" class="ant-avatar account ant-avatar-circle ant-avatar-image"><img src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/bilibiliIcon1.png"></span></a><a href="https://github.com/shenghy" target="_blank"><span style="width:28px;height:28px;line-height:28px;font-size:14px" class="ant-avatar account ant-avatar-circle ant-avatar-icon"><i aria-label="icon: github" class="anticon anticon-github"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="github" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"></path></svg></i></span></a><span style="width:28px;height:28px;line-height:28px;font-size:14px" class="ant-avatar account ant-avatar-circle ant-avatar-icon"><i aria-label="icon: qq" class="anticon anticon-qq"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="qq" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M824.8 613.2c-16-51.4-34.4-94.6-62.7-165.3C766.5 262.2 689.3 112 511.5 112 331.7 112 256.2 265.2 261 447.9c-28.4 70.8-46.7 113.7-62.7 165.3-34 109.5-23 154.8-14.6 155.8 18 2.2 70.1-82.4 70.1-82.4 0 49 25.2 112.9 79.8 159-26.4 8.1-85.7 29.9-71.6 53.8 11.4 19.3 196.2 12.3 249.5 6.3 53.3 6 238.1 13 249.5-6.3 14.1-23.8-45.3-45.7-71.6-53.8 54.6-46.2 79.8-110.1 79.8-159 0 0 52.1 84.6 70.1 82.4 8.5-1.1 19.5-46.4-14.5-155.8z"></path></svg></i></span><span style="width:28px;height:28px;line-height:28px;font-size:14px" class="ant-avatar account ant-avatar-circle ant-avatar-icon"><i aria-label="icon: wechat" class="anticon anticon-wechat"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="wechat" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M690.1 377.4c5.9 0 11.8.2 17.6.5-24.4-128.7-158.3-227.1-319.9-227.1C209 150.8 64 271.4 64 420.2c0 81.1 43.6 154.2 111.9 203.6a21.5 21.5 0 0 1 9.1 17.6c0 2.4-.5 4.6-1.1 6.9-5.5 20.3-14.2 52.8-14.6 54.3-.7 2.6-1.7 5.2-1.7 7.9 0 5.9 4.8 10.8 10.8 10.8 2.3 0 4.2-.9 6.2-2l70.9-40.9c5.3-3.1 11-5 17.2-5 3.2 0 6.4.5 9.5 1.4 33.1 9.5 68.8 14.8 105.7 14.8 6 0 11.9-.1 17.8-.4-7.1-21-10.9-43.1-10.9-66 0-135.8 132.2-245.8 295.3-245.8zm-194.3-86.5c23.8 0 43.2 19.3 43.2 43.1s-19.3 43.1-43.2 43.1c-23.8 0-43.2-19.3-43.2-43.1s19.4-43.1 43.2-43.1zm-215.9 86.2c-23.8 0-43.2-19.3-43.2-43.1s19.3-43.1 43.2-43.1 43.2 19.3 43.2 43.1-19.4 43.1-43.2 43.1zm586.8 415.6c56.9-41.2 93.2-102 93.2-169.7 0-124-120.8-224.5-269.9-224.5-149 0-269.9 100.5-269.9 224.5S540.9 847.5 690 847.5c30.8 0 60.6-4.4 88.1-12.3 2.6-.8 5.2-1.2 7.9-1.2 5.2 0 9.9 1.6 14.3 4.1l59.1 34c1.7 1 3.3 1.7 5.2 1.7a9 9 0 0 0 6.4-2.6 9 9 0 0 0 2.6-6.4c0-2.2-.9-4.4-1.4-6.6-.3-1.2-7.6-28.3-12.2-45.3-.5-1.9-.9-3.8-.9-5.7.1-5.9 3.1-11.2 7.6-14.5zM600.2 587.2c-19.9 0-36-16.1-36-35.9 0-19.8 16.1-35.9 36-35.9s36 16.1 36 35.9c0 19.8-16.2 35.9-36 35.9zm179.9 0c-19.9 0-36-16.1-36-35.9 0-19.8 16.1-35.9 36-35.9s36 16.1 36 35.9a36.08 36.08 0 0 1-36 35.9z"></path></svg></i></span></div></div><div class="ad-div comm-box"><div class="adv-item"><a href="http://mp.weixin.qq.com/s?__biz=MzI3MDE1MDA3Mg==&amp;mid=100003014&amp;idx=2&amp;sn=844e1881fb423b5af54d20a284ae57fa&amp;chksm=6ad43c115da3b5076805378df3e58ee95054f99235a1ba0a68c0d2e7cedf5feedf5de98a4475#rd" target="_blank"><img src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/kaikebaBanner.png" width="100%"></a></div><div class="adv-item"><a href="http://www.zhufengpeixun.cn/main/course/index.html?ref=jsp" target="_blank"><img src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/WechatIMG12.jpeg" width="100%"></a></div></div><div class="comm-box rightmi-div"><div class="ant-tabs ant-tabs-top ant-tabs-line"><div role="tablist" class="ant-tabs-bar ant-tabs-top-bar" tabindex="0"><div class="ant-tabs-nav-container"><span unselectable="unselectable" class="ant-tabs-tab-prev ant-tabs-tab-btn-disabled"><span class="ant-tabs-tab-prev-icon"><i aria-label="icon: left" class="anticon anticon-left ant-tabs-tab-prev-icon-target"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="left" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg></i></span></span><span unselectable="unselectable" class="ant-tabs-tab-next ant-tabs-tab-btn-disabled"><span class="ant-tabs-tab-next-icon"><i aria-label="icon: right" class="anticon anticon-right ant-tabs-tab-next-icon-target"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></i></span></span><div class="ant-tabs-nav-wrap"><div class="ant-tabs-nav-scroll"><div class="ant-tabs-nav ant-tabs-nav-animated"><div><div role="tab" aria-disabled="false" aria-selected="true" class="ant-tabs-tab-active ant-tabs-tab">密圈</div><div role="tab" aria-disabled="false" aria-selected="false" class=" ant-tabs-tab">公号</div><div role="tab" aria-disabled="false" aria-selected="false" class=" ant-tabs-tab">QQ群</div></div><div class="ant-tabs-ink-bar ant-tabs-ink-bar-animated" style="display: block; transform: translate3d(0px, 0px, 0px); width: 60px;"></div></div></div></div></div></div><div tabindex="0" style="width:0;height:0;overflow:hidden;position:absolute" role="presentation"></div><div class="ant-tabs-content ant-tabs-content-animated ant-tabs-top-content" style="margin-left:0%"><div role="tabpanel" aria-hidden="false" class="ant-tabs-tabpane ant-tabs-tabpane-active"><div tabindex="0" style="width:0;height:0;overflow:hidden;position:absolute" role="presentation"></div><div class="miquan-img"><img src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/zhishixingqiu.png"></div><div class="miquan-price"><i aria-label="icon: money-collect" class="anticon anticon-money-collect"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="money-collect" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M911.5 700.7a8 8 0 0 0-10.3-4.8L840 718.2V180c0-37.6-30.4-68-68-68H252c-37.6 0-68 30.4-68 68v538.2l-61.3-22.3c-.9-.3-1.8-.5-2.7-.5-4.4 0-8 3.6-8 8V763c0 3.3 2.1 6.3 5.3 7.5L501 910.1c7.1 2.6 14.8 2.6 21.9 0l383.8-139.5c3.2-1.2 5.3-4.2 5.3-7.5v-59.6c0-1-.2-1.9-.5-2.8zM512 837.5l-256-93.1V184h512v560.4l-256 93.1zM660.6 312h-54.5c-3 0-5.8 1.7-7.1 4.4l-84.7 168.8H511l-84.7-168.8a8 8 0 0 0-7.1-4.4h-55.7c-1.3 0-2.6.3-3.8 1-3.9 2.1-5.3 7-3.2 10.8l103.9 191.6h-57c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76v39h-76c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76V704c0 4.4 3.6 8 8 8h49.9c4.4 0 8-3.6 8-8v-63.5h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8h-76.3v-39h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8H564l103.7-191.6c.6-1.2 1-2.5 1-3.8-.1-4.3-3.7-7.9-8.1-7.9z"></path></svg></i> 只要50元/年  得4项福利</div><div class="miquan-text"><p><i aria-label="icon: check-circle" class="anticon anticon-check-circle"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="check-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path fill="#1890ff" d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path fill="#e6f7ff" d="M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 0 1-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z"></path><path fill="#1890ff" d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0 0 51.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i> 视频离线高清版下载-400集</p><p><i aria-label="icon: check-circle" class="anticon anticon-check-circle"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="check-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path fill="#1890ff" d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path fill="#e6f7ff" d="M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 0 1-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z"></path><path fill="#1890ff" d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0 0 51.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i> 每周至少两篇文章分享</p><p><i aria-label="icon: check-circle" class="anticon anticon-check-circle"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="check-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path fill="#1890ff" d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path fill="#e6f7ff" d="M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 0 1-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z"></path><path fill="#1890ff" d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0 0 51.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i> 技术胖收费视频半价购买</p><p><i aria-label="icon: check-circle" class="anticon anticon-check-circle"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="check-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path fill="#1890ff" d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path fill="#e6f7ff" d="M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 0 1-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z"></path><path fill="#1890ff" d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0 0 51.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i> 每天回答所提问题（选择性回答）</p></div><div class="quan-button"><button type="button" class="ant-btn ant-btn-primary"><span>查看详情</span></button></div><div tabindex="0" style="width:0;height:0;overflow:hidden;position:absolute" role="presentation"></div></div><div role="tabpanel" aria-hidden="true" class="ant-tabs-tabpane ant-tabs-tabpane-inactive"></div><div role="tabpanel" aria-hidden="true" class="ant-tabs-tabpane ant-tabs-tabpane-inactive"></div></div><div tabindex="0" style="width:0;height:0;overflow:hidden;position:absolute" role="presentation"></div></div></div><div><div class="detailed-nav comm-box"><div class="nav-title">文章目录</div><div class="toc-list"><div><div class="" style=""><div class="ant-anchor-wrapper" style="max-height: calc(100vh - 60px);"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball" style="top: 9.5px;"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=44#toc21" title="第01节：一般页面导航和返回">第01节：一般页面导航和返回</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=44#toc25" title="第02节：导航参数的传递和接收（1）">第02节：导航参数的传递和接收（1）</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=44#toc29" title="第03节：导航参数的传递和接收（2）">第03节：导航参数的传递和接收（2）</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=44#toc213" title="第04节：页面跳转并返回数据">第04节：页面跳转并返回数据</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=44#toc218" title="第05节：静态资源和项目图片的处理">第05节：静态资源和项目图片的处理</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="https://jspang.com/detailed?id=44#toc221" title="第06节：Flutter客户端打包">第06节：Flutter客户端打包</a></div></div></div></div></div></div></div></div></div></div><div class="footer-div"><div>系统由 React+Node+Ant Desgin驱动 </div><div>JSPang.com</div></div></div><script id="__NEXT_DATA__" type="application/json">{"dataManager":"[]","props":{"pageProps":{"Id":44,"type_id":1,"title":" Flutter免费视频第四季-页面导航和其他","article_content":"\n\n学习这个视频，你最好先把Flutter的前三季给看了，否则你可能看蒙圈。\n\n- 第一季Flutter视频教程地址：[https://jspang.com/posts/2019/01/20/flutter-base.html](https://jspang.com/posts/2019/01/20/flutter-base.html)\n\n- 第二季Flutter视频教程地址：[https://jspang.com/posts/2019/01/21/flutter-base2.html](https://jspang.com/posts/2019/01/21/flutter-base2.html)\n\n- 第三季Flutter视频教程地址：[https://jspang.com/posts/2019/01/28/flutter-base3.html](https://jspang.com/posts/2019/01/28/flutter-base3.html)\n\n\n\u003e学习讨论QQ群：806799257  \n\n\u003e入群问题：Flutter出自于哪个公司？\n\n\u003e入群答案：google\n\n\n## 第01节：一般页面导航和返回\n\n![alt](http://jspang.com/static/upload/20181213/pvA-e9vkrNiXVFUm6xXMO9zf.jpg)\n\n导航的使用在任何程序里都至关重要，这也是一个程序的灵魂。那这节我们就开始学习导航的知识。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=35800108\u0026cid=66380305\u0026page=20\" scrolling=\"no\" width=\"100%\" border=\"1\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n### RaisedButton按钮组件\n\n它有两个最基本的属性：\n- child：可以放入容器，图标，文字。让你构建多彩的按钮。\n- onPressed：点击事件的相应，一般会调用`Navigator`组件。\n\n我们在作页面导航时，大量的使用了`RaisedButton`组件，这个组件的使用在实际工作中用的也比较多。\n\n### Navigator.push 和 Navigator.pop\n\n- `Navigator.push`：是跳转到下一个页面，它要接受两个参数一个是上下文`context`，另一个是要跳转的函数。\n\n- `Navigator.pop`：是返回到上一个页面，使用时传递一个context（上下文）参数，使用时要注意的是，你必须是有上级页面的，也就是说上级页面使用了`Navigator.push`。\n\n### 写一个Demo\n\n我们现在就来作一个简单的案例，我们打开一个页面，页面上只有一个简单的按钮，按钮写着“查看商品详情页面”，然后点击后进入下一个页面，页面有一个按钮，可以直接返回。\n\n![alt](http://jspang.com/static/upload/20181213/BYN5e6kWp08BM9k6oQpEMilD.jpg)\n\n代码如下，一定要动手敲一敲哦。\n\n```\nimport 'package:flutter/material.dart';\n\nvoid main(){\n  runApp(MaterialApp(\n    title:'导航演示1',\n    home:new FirstScreen()\n  ));\n}\n\nclass FirstScreen extends StatelessWidget{\n  @override\n  Widget build(BuildContext context){\n    return new Scaffold(\n      appBar: AppBar(title:Text('导航页面')),\n      body:Center(\n        child:RaisedButton(\n          child:Text('查看商品详情页面'),\n          onPressed: (){\n            Navigator.push(context,new  MaterialPageRoute(\n              builder:(context) =\u003enew SecondScreen())\n            );\n          },\n        )\n      )\n    );\n  }\n}\n\nclass SecondScreen extends StatelessWidget{\n  @override\n  Widget build(BuildContext context){\n    return Scaffold(\n      appBar:AppBar(title:Text('技术胖商品详情页')),\n      body:Center(child:RaisedButton(\n        child:RaisedButton(\n          child:Text('返回'),\n          onPressed: (){\n            Navigator.pop(context);\n          },\n        )\n      ))\n    );\n    \n  }\n}\n\n```\n\n填坑，如果是1.0以下版本，热更新的时候会有时不能实现导航，这个需要你重新启动一下虚拟机。\n\n## 第02节：导航参数的传递和接收（1）\n\n这节主要学习页面跳转的时候参数的传递和接受。什么是参数的传递和接受那？就是比如我们来到了娱乐场所，然后进来一队漂亮的服务人员，这时候我们需要挑选，服务人员身上的号码或者名称就是我们的参数，当我们把号码告诉给领班，这个小姐姐就可以为我们服务了。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=35800108\u0026cid=66380305\u0026page=21\" scrolling=\"no\" width=\"100%\" border=\"1\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n这个挑选小姐姐的过程就是参数的传递和接受，用在程序上解释就是比如你进入一个商品选择列表，当你想选择一个商品的具体信息的时候，你就要传递商品编号，详细页面接受到编号后，显示出不同的内容。\n\n\n### Awesome Flutter snippets组件的使用\n\n因为这节课我们的代码有些多，这时候我们要加快敲代码的速度，可以使用VSCode 中的`Awesome Flutter snippets`插件。它可以帮忙我们快速生成常用的Flutter代码片段。\n\n比如输入`stlss`就会给我们生成如下代码：\n```\nclass name extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      child: child,\n    );\n  }\n}\n\n```\n安装完成后，我们可以看这个插件的说明，可以快速生成很多代码片段，我就不一个个给大家试了，小伙伴们可以自己测试。熟练掌握后，能大大加快我们的代码编写速度。\n\n\n### 声明数据结构类\n\nDart中可以使用类来抽象一个数据，比如我们模仿一个商品信息，有商品标题和商品描述。我们定义了一个Product类，里边有两个字符型变量，title和description。\n\n- title:是商品标题。\n- description: 商品详情描述\n\n代码如下:\n\n```\nclass Product{\n  final String title;  //商品标题\n  final String description;  //商品描述\n  Product(this.title,this.description);\n}\n```\n\n### 构建一个商品列表\n\n作一个商品的列表，这里我们采用动态的构造方法，在主方法里传递一个商品列表（List）到自定义的Widget中。\n\n先来看看主方法的编写代码:\n\n```\nvoid main(){\n  runApp(MaterialApp(\n    title:'数据传递案例',\n    home:ProductList(\n      products:List.generate(\n        20, \n        (i)=\u003eProduct('商品 $i','这是一个商品详情，编号为:$i')\n      ),\n    )\n  ));\n}\n```\n上面的代码是主路口文件，主要是在home属性中，我们使用了ProductList，这个自定义组件，而且时候会报错，因为我们缺少这个组件。这个组件我们传递了一个products参数，也就是商品的列表数据，这个数据是我们用`List.generate`生成的。并且这个生成的List原型就是我们刚开始定义的Product这个类（抽象数据）。\n\nProductList自定义组件的代码：\n\n```\nclass ProductList extends StatelessWidget{\n  final List\u003cProduct\u003e products;\n  ProductList({Key key,@required this.products}):super(key:key);\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title:Text('商品列表')),\n      body:ListView.builder(\n        itemCount:products.length,\n        itemBuilder: (context,index){\n          return ListTile(\n            title:Text(products[index].title),\n            onTap:(){\n            }\n          );\n        },\n      )\n    );\n  }\n}\n```\n\n先接受了主方法传递过来的参数，接受后用`ListView.builder`方法，作了一个根据传递参数数据形成的动态列表。\n\n\n## 第03节：导航参数的传递和接收（2）\n\n接着上节课的代码讲解，上节课已经有了商品列表，下面要做的就是把商品数据传递过去，然后显示商品详情页面。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=35800108\u0026cid=66380305\u0026page=22\" scrolling=\"no\" width=\"100%\" border=\"1\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\n### 导航参数的传递\n我们还是使用`Navigator`组件，然后使用路由`MaterialPageRoute`传递参数，具体代码如下。\n\n```\nNavigator.push(\n  context, \n  MaterialPageRoute(\n    builder:(context)=\u003enew ProductDetail(product:products[index])\n  )\n);\n```\n这段代码要写在onTap相应事件当中。这时候`ProductDetail`会报错，因为我们还没有生命这个组件或者说是类。\n\n### 子页面接受参数并显示\n\n现在需要声明`ProductDetail`这个类（组件），先要作的就是接受参数，具体代码如下。\n\n```\nclass ProductDetail extends StatelessWidget {\n  final Product product;\n  ProductDetail({Key key ,@required this.product}):super(key:key);\n\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: AppBar(\n        title:Text('${product.title}'),\n      ),\n      body:Center(child: Text('${product.description}'),)\n    );\n  }\n}\n```\n\n先接受了参数，并把数据显示在了页面中。\n\n\n\n\n\n### Demo全部代码如下 \n\n为了更好的帮助大家学习，我把所有的传递参数和接受参数的代码附在了下面。\n\n```\nimport 'package:flutter/material.dart';\n\n//传递的数据结构,也可以理解为对商品数据的抽象\nclass Product{\n  final String title;  //商品标题\n  final String description;  //商品描述\n  Product(this.title,this.description);\n}\n\nvoid main(){\n  runApp(MaterialApp(\n    title:'数据传递案例',\n    home:ProductList(\n      products:List.generate(\n        20, \n        (i)=\u003eProduct('商品 $i','这是一个商品详情，编号为:$i')\n      ),\n    )\n  ));\n}\n\nclass ProductList extends StatelessWidget{\n  final List\u003cProduct\u003e products;\n  ProductList({Key key,@required this.products}):super(key:key);\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title:Text('商品列表')),\n      body:ListView.builder(\n        itemCount:products.length,\n        itemBuilder: (context,index){\n          return ListTile(\n            title:Text(products[index].title),\n            onTap:(){\n              Navigator.push(\n                context, \n                MaterialPageRoute(\n                  builder:(context)=\u003enew ProductDetail(product:products[index])\n                )\n              );\n            }\n          );\n        },\n      )\n    );\n  }\n}\n\nclass ProductDetail extends StatelessWidget {\n  final Product product;\n  ProductDetail({Key key ,@required this.product}):super(key:key);\n\n\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: AppBar(\n        title:Text('${product.title}'),\n      ),\n      body:Center(child: Text('${product.description}'),)\n    );\n  }\n}\n\n```\n\n## 第04节：页面跳转并返回数据\n\n\n这节课学一下页面跳转后，当我们返回页面时返回结果到上一个页面（也就是父页面）。这样的场景经常用于，我们去子页面选择了一项选项，然后把选择的结果返回给父级页面。\n\n这节课要作的例子是这样的，要去找小姐姐，当进入房间后，找到自己喜欢的小姐姐，然后小姐姐给了我们电话，我们这时候就在主页面显示出选择的小姐姐电话。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=35800108\u0026cid=67489625\u0026page=23\" width=\"100%\"  scrolling=\"no\" border=\"1\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n### 异步请求和等待\n\nDart中的异步请求和等待和ES6中的方法很像，直接使用async...await就可以实现。比如下面作了一个找小姐姐的方法，然后进行跳转，注意这时候是异步的。等待结果回来之后，我们再显示出来内容。具体代码如下：\n\n```\n  _navigateToXiaoJieJie(BuildContext context) async{ //async是启用异步方法\n\n    final result = await Navigator.push(//等待\n      context, \n      MaterialPageRoute(builder: (context)=\u003e XiaoJieJie())\n      );\n      \n      Scaffold.of(context).showSnackBar(SnackBar(content:Text('$result')));\n  }\n}\n```\n\n### SnackBar的使用\n\n`SnackBar`是用户操作后，显示提示信息的一个控件，类似`Tost`，会自动隐藏。`SnackBar`是以`Scaffold`的`showSnackBar`方法来进行显示的。\n\n```\nScaffold.of(context).showSnackBar(SnackBar(content:Text('$result')));\n```\n\n### 返回数据的方式\n\n返回数据其实是特别容易的，只要在返回时带第二个参数就可以了。\n\n```\n Navigator.pop(context,'xxxx');  //xxx就是返回的参数\n```\n\n### 找小姐姐Demo代码\n\n这节课的代码其实挺多的，我把所有代码都放到下面，你可以在看完视频后，照着练习。\n\n```\nimport 'package:flutter/material.dart';\n\nvoid main(){\n  runApp(MaterialApp(\n    title:'页面跳转返回数据',\n    home:FirstPage()\n  ));\n}\n\nclass FirstPage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar:AppBar(title:Text(\"找小姐姐要电话\")),\n      body:Center(\n        child: RouteButton(),\n      )\n    );\n  }\n}\n\n//跳转的Button\nclass RouteButton extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return RaisedButton(\n      onPressed:(){\n          _navigateToXiaoJieJie(context);\n      },\n      child: Text('去找小姐姐'),\n    );\n  }\n\n  _navigateToXiaoJieJie(BuildContext context) async{ //async是启用异步方法\n\n    final result = await Navigator.push(//等待\n      context, \n      MaterialPageRoute(builder: (context)=\u003e XiaoJieJie())\n      );\n\n      Scaffold.of(context).showSnackBar(SnackBar(content:Text('$result')));\n  }\n}\n\nclass XiaoJieJie extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar:AppBar(\n        title:Text('我是小姐姐')\n      ),\n      body:Center(\n        child:Column(\n          children: \u003cWidget\u003e[\n            RaisedButton(\n              child: Text('大长腿小姐姐'),\n              onPressed: (){\n                Navigator.pop(context,'大长腿:1511008888');\n              },\n            ) ,\n            RaisedButton(\n              child: Text('小蛮腰小姐姐'),\n              onPressed: (){\n                Navigator.pop(context,'大长腿:1511009999');\n              },\n            ) ,\n          ],\n        ) \n      ) ,\n    );\n  }\n}\n```\n\n## 第05节：静态资源和项目图片的处理\n\n我们讲图片组件的时候，多使用了网络图片进行讲解，所以造成了小伙伴不会使用项目资源图片，这是我的锅，所以在这里给大家补上。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=35800108\u0026cid=67628784\u0026page=24\" width=\"100%\"  scrolling=\"no\" border=\"1\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\n### pubspec.yaml 文件\n\n如果想配置项目资源文件，就需要使用`pubspec.yaml`文件，需要把资源文件在这里声明。\n\n比如在项目根目录下新建了一个`images`文件夹，文件夹下面放了一个图片，图片的名称叫做`blogtouxiang.jpg`，那我们在`pubspec.yaml`文件里就要写如下代码进行声明。\n\n```\n  assets:\n    - images/blogtouxiang.jpg\n```\n\n### 使用项目图片资源\n\n有了声明后，我们就可以直接在项目中引用这个文件了。这里使用最简单的代码结构，只用了一张图片。代码如下:\n\n```\nimport 'package:flutter/material.dart';\n\nvoid main()=\u003erunApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      child: Image.asset('images/blogtouxiang.jpg'),\n    );\n  }\n}\n```\n\n这时候已经在项目中引入成功了，可以预览看一下效果。当然样子很丑，这里主要时学知识，就不做过多的修饰了。\n\n## 第06节：Flutter客户端打包\n\n到现在为止，我相信小伙伴都能做出一些漂亮的页面了，也有了难道朋友面前显一显的冲动。想要安装到手机上，我们必须要进行打包，这节课我们就学学Android客户端如何打包apk。\n\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=35800108\u0026cid=67489625\u0026page=24\" width=\"100%\"  scrolling=\"no\" border=\"1\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n其实这个打包的坑还是比较多的，官方文档显然是站在大神级程序员的角度写的，所以如果你看文档，特别是前端，那基本是打不成功的。\n\n不要怕，我这里就详细的把打包的过程和坑给大家演示一下。\n\n### 配置APP的图标\n\n\n想配置APP的图片，你需要找到下面的目录：\n\n\u003e 项目根目录/android/app/src/main/res/\n\n进入之后你会看到很多mipmap-为前缀命名的文件夹，后边的是像素密度，可以看出图标的分辨率。\n\n- mdpi (中)   ~160dpi\n- hdpi （高） ~240dip \n- xhdpi （超高） ~320dip \n- xxhdpi （超超高） ~480dip \n- xxxhdpi （超超超高） ~640dip \n\n将对应像素密度的图片放入对应的文件夹中,图片记得用png格式，记得名字要统一，才能一次性进行配置。\n\n### AndroidManifest.xml 文件\n\n这个文件主要用来配置APP的名称、图标和系统权限，所在的目录在:\n\u003e 项目根目录/android/app/src/main/AndroidManifest.xml\n\n```\nandroid:label=\"flutter_app\"   //配置APP的名称，支持中文\nandroid:icon=\"@mipmap/ic_launcher\" //APP图标的文件名称\n```\n\n### 生成 keystore\n\n这里的坑挺多的，小伙伴一定要注意。官方写的非常简单，只要在终端运行如下代码就可以成功,但事实是报错。\n\n```\nkeytool -genkey -v -keystore ~/key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias key\n```\n报错截图如下：\n\n![alt](http://jspang.com/static/upload/20181217/5xuQKZ9PfP4YniYgWcNR53j4.png)\n\n根本找不到这个目录，真的很坑，其实我们只是没有配置环境变量。但是为了一个包配置环境变量是不知道的。\n\n这时候可以用下面的命令找到keytool.exe的位置。\n\n```\nflutter doctor -v\n```\n\n![alt](http://jspang.com/static/upload/20181217/cHrgJ3SdAqFk1Ivta82vIP7g.png)\n\n这时候你直接拷贝命令并进行输入，但这里也有个坑，就是如果文件夹中间带有空空，你需要用带引号扩上。\n\n```\nD:\\Program\\Android\\'Android Studio'\\jre\\bin\\keytool -genkey -v -keystore ~/key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias key\n```\n这就可以了吗？那你就太天真了，还是会报错。\n\n![alt](http://jspang.com/static/upload/20181217/7dTEF6Pshi4qew0-p-MWXNtX.png)\n\n这个错误的主要问题是目录不存在和没有写权限，所以我们要更换一个有写权限的目录。我们把命令改成了下面的形式。\n\n```\n D:\\Program\\Android\\'Android Studio'\\jre\\bin\\keytool -genkey -v -keystore D:\\key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias key\n```\n这时候就可以创建成功了。你的D盘下面就会有一个Jks的文件，记住这个文件不能共享给任何人。\n\n有了这个key.jks文件后，可以到项目目录下的`android`文件夹下，创建一个名为key.properties的文件，并打开粘贴下面的代码。\n\n```\nstorePassword=\u003cpassword from previous step\u003e    //输入上一步创建KEY时输入的 密钥库 密码\nkeyPassword=\u003cpassword from previous step\u003e    //输入上一步创建KEY时输入的 密钥 密码\nkeyAlias=key\nstoreFile=\u003cE:/key.jks\u003e    //key.jks的存放路径\n```\n我的文件最后是这样的：\n```\nstorePassword=123123\nkeyPassword=123123\nkeyAlias=key\nstoreFile=D:/key.jks\n```\n这个工作中也不要分享出去哦，这个Key就算生成成功了。\n\n###  配置key注册\n\nkey生成好后，需要在build.gradle文件中进行配置。这个过程其实很简单，就是粘贴复制一些东西，你是不需要知道这些文件的具体用处的。\n\n第一项：\n\n进入项目目录的/android/app/build.gradle文件，在`android{`这一行前面,加入如下代码：\n\n```\ndef keystorePropertiesFile = rootProject.file(\"key.properties\")\ndef keystoreProperties = new Properties()\nkeystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n```\n把如下代码进行替换\n```\nbuildTypes {\n    release {\n        signingConfig signingConfigs.debug\n    }\n}\n```\n替换成的代码：\n\n```\nsigningConfigs {\n    release {\n        keyAlias keystoreProperties['keyAlias']\n        keyPassword keystoreProperties['keyPassword']\n        storeFile file(keystoreProperties['storeFile'])\n        storePassword keystoreProperties['storePassword']\n    }\n}\nbuildTypes {\n    release {\n        signingConfig signingConfigs.release\n    }\n}\n```\n\n### 生成apk\n\n直接在终端中输入：\n\n```\nflutter build apk\n```\n\n这时候就打包成功了，剩下的安装过程我就省略，不作过多的介绍了。","introduce":"\n到目前为止，作一个页面已经没有什么问题了，接下来需要学习一下页面间的跳转，学会了这一季内容，就可以从一个单页面的应用制作一个项目了。\n\n不过提前跟小伙伴们说一下，其实这章也是有难度的，因为这跟前端的导航或者说超链接有所不同。如果你能有空杯心态，学习来会容易一点。\n\n不过你不要害怕，其实也不难，大不了多练习几遍，熟练一下就好。\n","view_count":9895,"part_count":6,"article_content_html":"\u003cp\u003e学习这个视频，你最好先把Flutter的前三季给看了，否则你可能看蒙圈。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003e第一季Flutter视频教程地址：\u003ca href=\"https://jspang.com/posts/2019/01/20/flutter-base.html\"\u003ehttps://jspang.com/posts/2019/01/20/flutter-base.html\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e第二季Flutter视频教程地址：\u003ca href=\"https://jspang.com/posts/2019/01/21/flutter-base2.html\"\u003ehttps://jspang.com/posts/2019/01/21/flutter-base2.html\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e第三季Flutter视频教程地址：\u003ca href=\"https://jspang.com/posts/2019/01/28/flutter-base3.html\"\u003ehttps://jspang.com/posts/2019/01/28/flutter-base3.html\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e学习讨论QQ群：806799257  \u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003e入群问题：Flutter出自于哪个公司？\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003e入群答案：google\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ca id=\"toc21\" href=\"#toc21\" class=\"anchor-fix\"\u003e\u003ch2\u003e第01节：一般页面导航和返回\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e\u003cimg src=\"http://jspang.com/static/upload/20181213/pvA-e9vkrNiXVFUm6xXMO9zf.jpg\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003cp\u003e导航的使用在任何程序里都至关重要，这也是一个程序的灵魂。那这节我们就开始学习导航的知识。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=35800108\u0026cid=66380305\u0026page=20\" scrolling=\"no\" width=\"100%\" border=\"1\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\u003ca id=\"toc32\" href=\"#toc32\" class=\"anchor-fix\"\u003e\u003ch3\u003eRaisedButton按钮组件\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e它有两个最基本的属性：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003echild：可以放入容器，图标，文字。让你构建多彩的按钮。\u003c/li\u003e\n\u003cli\u003eonPressed：点击事件的相应，一般会调用\u003ccode\u003eNavigator\u003c/code\u003e组件。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e我们在作页面导航时，大量的使用了\u003ccode\u003eRaisedButton\u003c/code\u003e组件，这个组件的使用在实际工作中用的也比较多。\u003c/p\u003e\n\u003ca id=\"toc33\" href=\"#toc33\" class=\"anchor-fix\"\u003e\u003ch3\u003eNavigator.push 和 Navigator.pop\u003c/h3\u003e\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003eNavigator.push\u003c/code\u003e：是跳转到下一个页面，它要接受两个参数一个是上下文\u003ccode\u003econtext\u003c/code\u003e，另一个是要跳转的函数。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003eNavigator.pop\u003c/code\u003e：是返回到上一个页面，使用时传递一个context（上下文）参数，使用时要注意的是，你必须是有上级页面的，也就是说上级页面使用了\u003ccode\u003eNavigator.push\u003c/code\u003e。\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ca id=\"toc34\" href=\"#toc34\" class=\"anchor-fix\"\u003e\u003ch3\u003e写一个Demo\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e我们现在就来作一个简单的案例，我们打开一个页面，页面上只有一个简单的按钮，按钮写着“查看商品详情页面”，然后点击后进入下一个页面，页面有一个按钮，可以直接返回。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"http://jspang.com/static/upload/20181213/BYN5e6kWp08BM9k6oQpEMilD.jpg\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003cp\u003e代码如下，一定要动手敲一敲哦。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\nvoid main(){\n  runApp(\u003cspan class=\"hljs-type\"\u003eMaterialApp\u003c/span\u003e(\n    title:'导航演示\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e',\n    home:\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eFirstScreen\u003c/span\u003e()\n  ));\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eFirstScreen\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e\u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context){\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      appBar: \u003cspan class=\"hljs-type\"\u003eAppBar\u003c/span\u003e(title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e('导航页面')),\n      body:\u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(\n        child:\u003cspan class=\"hljs-type\"\u003eRaisedButton\u003c/span\u003e(\n          child:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e('查看商品详情页面'),\n          onPressed: (){\n            \u003cspan class=\"hljs-type\"\u003eNavigator\u003c/span\u003e.push(context,\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e  \u003cspan class=\"hljs-type\"\u003eMaterialPageRoute\u003c/span\u003e(\n              builder:(context) =\u0026gt;\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eSecondScreen\u003c/span\u003e())\n            );\n          },\n        )\n      )\n    );\n  }\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eSecondScreen\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e\u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context){\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      appBar:\u003cspan class=\"hljs-type\"\u003eAppBar\u003c/span\u003e(title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e('技术胖商品详情页')),\n      body:\u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(child:\u003cspan class=\"hljs-type\"\u003eRaisedButton\u003c/span\u003e(\n        child:\u003cspan class=\"hljs-type\"\u003eRaisedButton\u003c/span\u003e(\n          child:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e('返回'),\n          onPressed: (){\n            \u003cspan class=\"hljs-type\"\u003eNavigator\u003c/span\u003e.pop(context);\n          },\n        )\n      ))\n    );\n\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e填坑，如果是1.0以下版本，热更新的时候会有时不能实现导航，这个需要你重新启动一下虚拟机。\u003c/p\u003e\n\u003ca id=\"toc25\" href=\"#toc25\" class=\"anchor-fix\"\u003e\u003ch2\u003e第02节：导航参数的传递和接收（1）\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e这节主要学习页面跳转的时候参数的传递和接受。什么是参数的传递和接受那？就是比如我们来到了娱乐场所，然后进来一队漂亮的服务人员，这时候我们需要挑选，服务人员身上的号码或者名称就是我们的参数，当我们把号码告诉给领班，这个小姐姐就可以为我们服务了。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=35800108\u0026cid=66380305\u0026page=21\" scrolling=\"no\" width=\"100%\" border=\"1\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\u003cp\u003e这个挑选小姐姐的过程就是参数的传递和接受，用在程序上解释就是比如你进入一个商品选择列表，当你想选择一个商品的具体信息的时候，你就要传递商品编号，详细页面接受到编号后，显示出不同的内容。\u003c/p\u003e\n\u003ca id=\"toc36\" href=\"#toc36\" class=\"anchor-fix\"\u003e\u003ch3\u003eAwesome Flutter snippets组件的使用\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e因为这节课我们的代码有些多，这时候我们要加快敲代码的速度，可以使用VSCode 中的\u003ccode\u003eAwesome Flutter snippets\u003c/code\u003e插件。它可以帮忙我们快速生成常用的Flutter代码片段。\u003c/p\u003e\n\u003cp\u003e比如输入\u003ccode\u003estlss\u003c/code\u003e就会给我们生成如下代码：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ename\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eContainer\u003c/span\u003e(\n      child: child,\n    );\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e安装完成后，我们可以看这个插件的说明，可以快速生成很多代码片段，我就不一个个给大家试了，小伙伴们可以自己测试。熟练掌握后，能大大加快我们的代码编写速度。\u003c/p\u003e\n\u003ca id=\"toc37\" href=\"#toc37\" class=\"anchor-fix\"\u003e\u003ch3\u003e声明数据结构类\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003eDart中可以使用类来抽象一个数据，比如我们模仿一个商品信息，有商品标题和商品描述。我们定义了一个Product类，里边有两个字符型变量，title和description。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003etitle:是商品标题。\u003c/li\u003e\n\u003cli\u003edescription: 商品详情描述\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e代码如下:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eProduct\u003c/span\u003e\u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003eString\u003c/span\u003e title;  \u003cspan class=\"hljs-comment\"\u003e//商品标题\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003eString\u003c/span\u003e description;  \u003cspan class=\"hljs-comment\"\u003e//商品描述\u003c/span\u003e\n  Product(\u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.title,\u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.description);\n}\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc38\" href=\"#toc38\" class=\"anchor-fix\"\u003e\u003ch3\u003e构建一个商品列表\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e作一个商品的列表，这里我们采用动态的构造方法，在主方法里传递一个商品列表（List）到自定义的Widget中。\u003c/p\u003e\n\u003cp\u003e先来看看主方法的编写代码:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e main(){\n  runApp(MaterialApp(\n    title:\u003cspan class=\"hljs-string\"\u003e'数据传递案例'\u003c/span\u003e,\n    home:ProductList(\n      products:\u003cspan class=\"hljs-built_in\"\u003eList\u003c/span\u003e.generate(\n        \u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e, \n        (i)=\u0026gt;Product(\u003cspan class=\"hljs-string\"\u003e'商品 \u003cspan class=\"hljs-subst\"\u003e$i\u003c/span\u003e'\u003c/span\u003e,\u003cspan class=\"hljs-string\"\u003e'这是一个商品详情，编号为:\u003cspan class=\"hljs-subst\"\u003e$i\u003c/span\u003e'\u003c/span\u003e)\n      ),\n    )\n  ));\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e上面的代码是主路口文件，主要是在home属性中，我们使用了ProductList，这个自定义组件，而且时候会报错，因为我们缺少这个组件。这个组件我们传递了一个products参数，也就是商品的列表数据，这个数据是我们用\u003ccode\u003eList.generate\u003c/code\u003e生成的。并且这个生成的List原型就是我们刚开始定义的Product这个类（抽象数据）。\u003c/p\u003e\n\u003cp\u003eProductList自定义组件的代码：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eProductList\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e\u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eList\u003c/span\u003e\u0026lt;\u003cspan class=\"hljs-type\"\u003eProduct\u003c/span\u003e\u0026gt; products;\n  \u003cspan class=\"hljs-type\"\u003eProductList\u003c/span\u003e({\u003cspan class=\"hljs-type\"\u003eKey\u003c/span\u003e key,\u003cspan class=\"hljs-meta\"\u003e@required\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.products}):\u003cspan class=\"hljs-keyword\"\u003esuper\u003c/span\u003e(key:key);\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      appBar: \u003cspan class=\"hljs-type\"\u003eAppBar\u003c/span\u003e(title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e('商品列表')),\n      body:\u003cspan class=\"hljs-type\"\u003eListView\u003c/span\u003e.builder(\n        itemCount:products.length,\n        itemBuilder: (context,index){\n          \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eListTile\u003c/span\u003e(\n            title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(products[index].title),\n            onTap:(){\n            }\n          );\n        },\n      )\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e先接受了主方法传递过来的参数，接受后用\u003ccode\u003eListView.builder\u003c/code\u003e方法，作了一个根据传递参数数据形成的动态列表。\u003c/p\u003e\n\u003ca id=\"toc29\" href=\"#toc29\" class=\"anchor-fix\"\u003e\u003ch2\u003e第03节：导航参数的传递和接收（2）\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e接着上节课的代码讲解，上节课已经有了商品列表，下面要做的就是把商品数据传递过去，然后显示商品详情页面。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=35800108\u0026cid=66380305\u0026page=22\" scrolling=\"no\" width=\"100%\" border=\"1\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\n\u003ca id=\"toc310\" href=\"#toc310\" class=\"anchor-fix\"\u003e\u003ch3\u003e导航参数的传递\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e我们还是使用\u003ccode\u003eNavigator\u003c/code\u003e组件，然后使用路由\u003ccode\u003eMaterialPageRoute\u003c/code\u003e传递参数，具体代码如下。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eNavigator.\u003cspan class=\"hljs-built_in\"\u003epush\u003c/span\u003e(\n  \u003cspan class=\"hljs-built_in\"\u003econtext\u003c/span\u003e, \n  MaterialPageRoute(\n    builder:(\u003cspan class=\"hljs-built_in\"\u003econtext\u003c/span\u003e)=\u0026gt;\u003cspan class=\"hljs-built_in\"\u003enew\u003c/span\u003e ProductDetail(\u003cspan class=\"hljs-built_in\"\u003eproduct\u003c/span\u003e:products[index])\n  )\n);\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e这段代码要写在onTap相应事件当中。这时候\u003ccode\u003eProductDetail\u003c/code\u003e会报错，因为我们还没有生命这个组件或者说是类。\u003c/p\u003e\n\u003ca id=\"toc311\" href=\"#toc311\" class=\"anchor-fix\"\u003e\u003ch3\u003e子页面接受参数并显示\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e现在需要声明\u003ccode\u003eProductDetail\u003c/code\u003e这个类（组件），先要作的就是接受参数，具体代码如下。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eProductDetail\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eProduct\u003c/span\u003e product;\n  \u003cspan class=\"hljs-type\"\u003eProductDetail\u003c/span\u003e({\u003cspan class=\"hljs-type\"\u003eKey\u003c/span\u003e key ,\u003cspan class=\"hljs-meta\"\u003e@required\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.product}):\u003cspan class=\"hljs-keyword\"\u003esuper\u003c/span\u003e(key:key);\n\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      appBar: \u003cspan class=\"hljs-type\"\u003eAppBar\u003c/span\u003e(\n        title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e('${product.title}'),\n      ),\n      body:\u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(child: \u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e('${product.description}'),)\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e先接受了参数，并把数据显示在了页面中。\u003c/p\u003e\n\u003ca id=\"toc312\" href=\"#toc312\" class=\"anchor-fix\"\u003e\u003ch3\u003eDemo全部代码如下\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e为了更好的帮助大家学习，我把所有的传递参数和接受参数的代码附在了下面。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\n\u003cspan class=\"hljs-comment\"\u003e//传递的数据结构,也可以理解为对商品数据的抽象\u003c/span\u003e\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eProduct\u003c/span\u003e\u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e title;  \u003cspan class=\"hljs-comment\"\u003e//商品标题\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e description;  \u003cspan class=\"hljs-comment\"\u003e//商品描述\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eProduct\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.title,\u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.description);\n}\n\nvoid main(){\n  runApp(\u003cspan class=\"hljs-type\"\u003eMaterialApp\u003c/span\u003e(\n    title:'数据传递案例',\n    home:\u003cspan class=\"hljs-type\"\u003eProductList\u003c/span\u003e(\n      products:\u003cspan class=\"hljs-type\"\u003eList\u003c/span\u003e.generate(\n        \u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e, \n        (i)=\u0026gt;\u003cspan class=\"hljs-type\"\u003eProduct\u003c/span\u003e('商品 $i','这是一个商品详情，编号为:$i')\n      ),\n    )\n  ));\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eProductList\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e\u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eList\u003c/span\u003e\u0026lt;\u003cspan class=\"hljs-type\"\u003eProduct\u003c/span\u003e\u0026gt; products;\n  \u003cspan class=\"hljs-type\"\u003eProductList\u003c/span\u003e({\u003cspan class=\"hljs-type\"\u003eKey\u003c/span\u003e key,\u003cspan class=\"hljs-meta\"\u003e@required\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.products}):\u003cspan class=\"hljs-keyword\"\u003esuper\u003c/span\u003e(key:key);\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      appBar: \u003cspan class=\"hljs-type\"\u003eAppBar\u003c/span\u003e(title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e('商品列表')),\n      body:\u003cspan class=\"hljs-type\"\u003eListView\u003c/span\u003e.builder(\n        itemCount:products.length,\n        itemBuilder: (context,index){\n          \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eListTile\u003c/span\u003e(\n            title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(products[index].title),\n            onTap:(){\n              \u003cspan class=\"hljs-type\"\u003eNavigator\u003c/span\u003e.push(\n                context, \n                \u003cspan class=\"hljs-type\"\u003eMaterialPageRoute\u003c/span\u003e(\n                  builder:(context)=\u0026gt;\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eProductDetail\u003c/span\u003e(product:products[index])\n                )\n              );\n            }\n          );\n        },\n      )\n    );\n  }\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eProductDetail\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eProduct\u003c/span\u003e product;\n  \u003cspan class=\"hljs-type\"\u003eProductDetail\u003c/span\u003e({\u003cspan class=\"hljs-type\"\u003eKey\u003c/span\u003e key ,\u003cspan class=\"hljs-meta\"\u003e@required\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.product}):\u003cspan class=\"hljs-keyword\"\u003esuper\u003c/span\u003e(key:key);\n\n\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      appBar: \u003cspan class=\"hljs-type\"\u003eAppBar\u003c/span\u003e(\n        title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e('${product.title}'),\n      ),\n      body:\u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(child: \u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e('${product.description}'),)\n    );\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc213\" href=\"#toc213\" class=\"anchor-fix\"\u003e\u003ch2\u003e第04节：页面跳转并返回数据\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e这节课学一下页面跳转后，当我们返回页面时返回结果到上一个页面（也就是父页面）。这样的场景经常用于，我们去子页面选择了一项选项，然后把选择的结果返回给父级页面。\u003c/p\u003e\n\u003cp\u003e这节课要作的例子是这样的，要去找小姐姐，当进入房间后，找到自己喜欢的小姐姐，然后小姐姐给了我们电话，我们这时候就在主页面显示出选择的小姐姐电话。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=35800108\u0026cid=67489625\u0026page=23\" width=\"100%\"  scrolling=\"no\" border=\"1\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\u003ca id=\"toc314\" href=\"#toc314\" class=\"anchor-fix\"\u003e\u003ch3\u003e异步请求和等待\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003eDart中的异步请求和等待和ES6中的方法很像，直接使用async...await就可以实现。比如下面作了一个找小姐姐的方法，然后进行跳转，注意这时候是异步的。等待结果回来之后，我们再显示出来内容。具体代码如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"hljs-constructor\"\u003e_navigateToXiaoJieJie(BuildContext \u003cspan class=\"hljs-params\"\u003econtext\u003c/span\u003e)\u003c/span\u003e async{ \u003cspan class=\"hljs-comment\"\u003e//async是启用异步方法\u003c/span\u003e\n\n    final result = await \u003cspan class=\"hljs-module-access\"\u003e\u003cspan class=\"hljs-module\"\u003e\u003cspan class=\"hljs-identifier\"\u003eNavigator\u003c/span\u003e.\u003c/span\u003e\u003c/span\u003epush(\u003cspan class=\"hljs-comment\"\u003e//等待\u003c/span\u003e\n      context, \n      \u003cspan class=\"hljs-constructor\"\u003eMaterialPageRoute(\u003cspan class=\"hljs-params\"\u003ebuilder\u003c/span\u003e: (\u003cspan class=\"hljs-params\"\u003econtext\u003c/span\u003e)\u003c/span\u003e=\u0026gt; \u003cspan class=\"hljs-constructor\"\u003eXiaoJieJie()\u003c/span\u003e)\n      );\n\n      \u003cspan class=\"hljs-module-access\"\u003e\u003cspan class=\"hljs-module\"\u003e\u003cspan class=\"hljs-identifier\"\u003eScaffold\u003c/span\u003e.\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"hljs-keyword\"\u003eof\u003c/span\u003e(context).show\u003cspan class=\"hljs-constructor\"\u003eSnackBar(SnackBar(\u003cspan class=\"hljs-params\"\u003econtent\u003c/span\u003e:Text('$\u003cspan class=\"hljs-params\"\u003eresult\u003c/span\u003e')\u003c/span\u003e));\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc315\" href=\"#toc315\" class=\"anchor-fix\"\u003e\u003ch3\u003eSnackBar的使用\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e\u003ccode\u003eSnackBar\u003c/code\u003e是用户操作后，显示提示信息的一个控件，类似\u003ccode\u003eTost\u003c/code\u003e，会自动隐藏。\u003ccode\u003eSnackBar\u003c/code\u003e是以\u003ccode\u003eScaffold\u003c/code\u003e的\u003ccode\u003eshowSnackBar\u003c/code\u003e方法来进行显示的。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-module-access\"\u003e\u003cspan class=\"hljs-module\"\u003e\u003cspan class=\"hljs-identifier\"\u003eScaffold\u003c/span\u003e.\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"hljs-keyword\"\u003eof\u003c/span\u003e(context).show\u003cspan class=\"hljs-constructor\"\u003eSnackBar(SnackBar(\u003cspan class=\"hljs-params\"\u003econtent\u003c/span\u003e:Text('$\u003cspan class=\"hljs-params\"\u003eresult\u003c/span\u003e')\u003c/span\u003e));\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc316\" href=\"#toc316\" class=\"anchor-fix\"\u003e\u003ch3\u003e返回数据的方式\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e返回数据其实是特别容易的，只要在返回时带第二个参数就可以了。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e Navigator.\u003cspan class=\"hljs-keyword\"\u003epop\u003c/span\u003e(context,\u003cspan class=\"hljs-string\"\u003e'xxxx'\u003c/span\u003e);  \u003cspan class=\"hljs-comment\"\u003e//xxx就是返回的参数\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc317\" href=\"#toc317\" class=\"anchor-fix\"\u003e\u003ch3\u003e找小姐姐Demo代码\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e这节课的代码其实挺多的，我把所有代码都放到下面，你可以在看完视频后，照着练习。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\nvoid main(){\n  runApp(\u003cspan class=\"hljs-type\"\u003eMaterialApp\u003c/span\u003e(\n    title:'页面跳转返回数据',\n    home:\u003cspan class=\"hljs-type\"\u003eFirstPage\u003c/span\u003e()\n  ));\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eFirstPage\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      appBar:\u003cspan class=\"hljs-type\"\u003eAppBar\u003c/span\u003e(title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"找小姐姐要电话\"\u003c/span\u003e)),\n      body:\u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(\n        child: \u003cspan class=\"hljs-type\"\u003eRouteButton\u003c/span\u003e(),\n      )\n    );\n  }\n}\n\n\u003cspan class=\"hljs-comment\"\u003e//跳转的Button\u003c/span\u003e\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eRouteButton\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eRaisedButton\u003c/span\u003e(\n      onPressed:(){\n          _navigateToXiaoJieJie(context);\n      },\n      child: \u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e('去找小姐姐'),\n    );\n  }\n\n  _navigateToXiaoJieJie(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) async{ \u003cspan class=\"hljs-comment\"\u003e//async是启用异步方法\u003c/span\u003e\n\n    \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e result = await \u003cspan class=\"hljs-type\"\u003eNavigator\u003c/span\u003e.push(\u003cspan class=\"hljs-comment\"\u003e//等待\u003c/span\u003e\n      context, \n      \u003cspan class=\"hljs-type\"\u003eMaterialPageRoute\u003c/span\u003e(builder: (context)=\u0026gt; \u003cspan class=\"hljs-type\"\u003eXiaoJieJie\u003c/span\u003e())\n      );\n\n      \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e.of(context).showSnackBar(\u003cspan class=\"hljs-type\"\u003eSnackBar\u003c/span\u003e(content:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e('$result')));\n  }\n}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eXiaoJieJie\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eScaffold\u003c/span\u003e(\n      appBar:\u003cspan class=\"hljs-type\"\u003eAppBar\u003c/span\u003e(\n        title:\u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e('我是小姐姐')\n      ),\n      body:\u003cspan class=\"hljs-type\"\u003eCenter\u003c/span\u003e(\n        child:\u003cspan class=\"hljs-type\"\u003eColumn\u003c/span\u003e(\n          children: \u0026lt;\u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e\u0026gt;[\n            \u003cspan class=\"hljs-type\"\u003eRaisedButton\u003c/span\u003e(\n              child: \u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e('大长腿小姐姐'),\n              onPressed: (){\n                \u003cspan class=\"hljs-type\"\u003eNavigator\u003c/span\u003e.pop(context,'大长腿:\u003cspan class=\"hljs-number\"\u003e1511008888\u003c/span\u003e');\n              },\n            ) ,\n            \u003cspan class=\"hljs-type\"\u003eRaisedButton\u003c/span\u003e(\n              child: \u003cspan class=\"hljs-type\"\u003eText\u003c/span\u003e('小蛮腰小姐姐'),\n              onPressed: (){\n                \u003cspan class=\"hljs-type\"\u003eNavigator\u003c/span\u003e.pop(context,'大长腿:\u003cspan class=\"hljs-number\"\u003e1511009999\u003c/span\u003e');\n              },\n            ) ,\n          ],\n        ) \n      ) ,\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc218\" href=\"#toc218\" class=\"anchor-fix\"\u003e\u003ch2\u003e第05节：静态资源和项目图片的处理\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e我们讲图片组件的时候，多使用了网络图片进行讲解，所以造成了小伙伴不会使用项目资源图片，这是我的锅，所以在这里给大家补上。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=35800108\u0026cid=67628784\u0026page=24\" width=\"100%\"  scrolling=\"no\" border=\"1\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\n\u003ca id=\"toc319\" href=\"#toc319\" class=\"anchor-fix\"\u003e\u003ch3\u003epubspec.yaml 文件\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e如果想配置项目资源文件，就需要使用\u003ccode\u003epubspec.yaml\u003c/code\u003e文件，需要把资源文件在这里声明。\u003c/p\u003e\n\u003cp\u003e比如在项目根目录下新建了一个\u003ccode\u003eimages\u003c/code\u003e文件夹，文件夹下面放了一个图片，图片的名称叫做\u003ccode\u003eblogtouxiang.jpg\u003c/code\u003e，那我们在\u003ccode\u003epubspec.yaml\u003c/code\u003e文件里就要写如下代码进行声明。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e  assets:\n\u003cspan class=\"hljs-bullet\"\u003e    - \u003c/span\u003eimages/blogtouxiang.jpg\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc320\" href=\"#toc320\" class=\"anchor-fix\"\u003e\u003ch3\u003e使用项目图片资源\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e有了声明后，我们就可以直接在项目中引用这个文件了。这里使用最简单的代码结构，只用了一张图片。代码如下:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'package\u003c/span\u003e:flutter/material.dart';\n\nvoid main()=\u0026gt;runApp(\u003cspan class=\"hljs-type\"\u003eMyApp\u003c/span\u003e());\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyApp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eStatelessWidget\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@override\u003c/span\u003e\n  \u003cspan class=\"hljs-type\"\u003eWidget\u003c/span\u003e build(\u003cspan class=\"hljs-type\"\u003eBuildContext\u003c/span\u003e context) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eContainer\u003c/span\u003e(\n      child: \u003cspan class=\"hljs-type\"\u003eImage\u003c/span\u003e.asset(\u003cspan class=\"hljs-symbol\"\u003e'images\u003c/span\u003e/blogtouxiang.jpg'),\n    );\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e这时候已经在项目中引入成功了，可以预览看一下效果。当然样子很丑，这里主要时学知识，就不做过多的修饰了。\u003c/p\u003e\n\u003ca id=\"toc221\" href=\"#toc221\" class=\"anchor-fix\"\u003e\u003ch2\u003e第06节：Flutter客户端打包\u003c/h2\u003e\u003c/a\u003e\n\u003cp\u003e到现在为止，我相信小伙伴都能做出一些漂亮的页面了，也有了难道朋友面前显一显的冲动。想要安装到手机上，我们必须要进行打包，这节课我们就学学Android客户端如何打包apk。\u003c/p\u003e\n\u003ciframe src=\"//player.bilibili.com/player.html?aid=35800108\u0026cid=67489625\u0026page=24\" width=\"100%\"  scrolling=\"no\" border=\"1\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e \u003c/iframe\u003e\n\n\u003cp\u003e其实这个打包的坑还是比较多的，官方文档显然是站在大神级程序员的角度写的，所以如果你看文档，特别是前端，那基本是打不成功的。\u003c/p\u003e\n\u003cp\u003e不要怕，我这里就详细的把打包的过程和坑给大家演示一下。\u003c/p\u003e\n\u003ca id=\"toc322\" href=\"#toc322\" class=\"anchor-fix\"\u003e\u003ch3\u003e配置APP的图标\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e想配置APP的图片，你需要找到下面的目录：\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e项目根目录/android/app/src/main/res/\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e进入之后你会看到很多mipmap-为前缀命名的文件夹，后边的是像素密度，可以看出图标的分辨率。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003emdpi (中)   ~160dpi\u003c/li\u003e\n\u003cli\u003ehdpi （高） ~240dip \u003c/li\u003e\n\u003cli\u003exhdpi （超高） ~320dip \u003c/li\u003e\n\u003cli\u003exxhdpi （超超高） ~480dip \u003c/li\u003e\n\u003cli\u003exxxhdpi （超超超高） ~640dip \u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e将对应像素密度的图片放入对应的文件夹中,图片记得用png格式，记得名字要统一，才能一次性进行配置。\u003c/p\u003e\n\u003ca id=\"toc323\" href=\"#toc323\" class=\"anchor-fix\"\u003e\u003ch3\u003eAndroidManifest.xml 文件\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e这个文件主要用来配置APP的名称、图标和系统权限，所在的目录在:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e项目根目录/android/app/src/main/AndroidManifest.xml\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-symbol\"\u003eandroid:\u003c/span\u003elabel=\u003cspan class=\"hljs-string\"\u003e\"flutter_app\"\u003c/span\u003e   \u003cspan class=\"hljs-comment\"\u003e//配置APP的名称，支持中文\u003c/span\u003e\n\u003cspan class=\"hljs-symbol\"\u003eandroid:\u003c/span\u003eicon=\u003cspan class=\"hljs-string\"\u003e\"@mipmap/ic_launcher\"\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e//APP图标的文件名称\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc324\" href=\"#toc324\" class=\"anchor-fix\"\u003e\u003ch3\u003e生成 keystore\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e这里的坑挺多的，小伙伴一定要注意。官方写的非常简单，只要在终端运行如下代码就可以成功,但事实是报错。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ekeytool -genkey -v -keystore ~/\u003cspan class=\"hljs-type\"\u003ekey\u003c/span\u003e.jks -keyalg RSA -keysize \u003cspan class=\"hljs-number\"\u003e2048\u003c/span\u003e -validity \u003cspan class=\"hljs-number\"\u003e10000\u003c/span\u003e -alias \u003cspan class=\"hljs-type\"\u003ekey\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e报错截图如下：\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"http://jspang.com/static/upload/20181217/5xuQKZ9PfP4YniYgWcNR53j4.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003cp\u003e根本找不到这个目录，真的很坑，其实我们只是没有配置环境变量。但是为了一个包配置环境变量是不知道的。\u003c/p\u003e\n\u003cp\u003e这时候可以用下面的命令找到keytool.exe的位置。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-attribute\"\u003eflutter doctor -v\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cimg src=\"http://jspang.com/static/upload/20181217/cHrgJ3SdAqFk1Ivta82vIP7g.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003cp\u003e这时候你直接拷贝命令并进行输入，但这里也有个坑，就是如果文件夹中间带有空空，你需要用带引号扩上。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eD:\u003cspan class=\"hljs-symbol\"\u003e\\P\u003c/span\u003erogram\u003cspan class=\"hljs-symbol\"\u003e\\A\u003c/span\u003endroid\u003cspan class=\"hljs-symbol\"\u003e\\'\u003c/span\u003eAndroid Studio'\u003cspan class=\"hljs-symbol\"\u003e\\j\u003c/span\u003ere\u003cspan class=\"hljs-symbol\"\u003e\\b\u003c/span\u003ein\u003cspan class=\"hljs-symbol\"\u003e\\k\u003c/span\u003eeytool -genkey -v -keystore ~/key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias key\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e这就可以了吗？那你就太天真了，还是会报错。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"http://jspang.com/static/upload/20181217/7dTEF6Pshi4qew0-p-MWXNtX.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003cp\u003e这个错误的主要问题是目录不存在和没有写权限，所以我们要更换一个有写权限的目录。我们把命令改成了下面的形式。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e D:\u003cspan class=\"hljs-symbol\"\u003e\\P\u003c/span\u003erogram\u003cspan class=\"hljs-symbol\"\u003e\\A\u003c/span\u003endroid\u003cspan class=\"hljs-symbol\"\u003e\\'\u003c/span\u003eAndroid Studio'\u003cspan class=\"hljs-symbol\"\u003e\\j\u003c/span\u003ere\u003cspan class=\"hljs-symbol\"\u003e\\b\u003c/span\u003ein\u003cspan class=\"hljs-symbol\"\u003e\\k\u003c/span\u003eeytool -genkey -v -keystore D:\u003cspan class=\"hljs-symbol\"\u003e\\k\u003c/span\u003eey.jks -keyalg RSA -keysize 2048 -validity 10000 -alias key\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e这时候就可以创建成功了。你的D盘下面就会有一个Jks的文件，记住这个文件不能共享给任何人。\u003c/p\u003e\n\u003cp\u003e有了这个key.jks文件后，可以到项目目录下的\u003ccode\u003eandroid\u003c/code\u003e文件夹下，创建一个名为key.properties的文件，并打开粘贴下面的代码。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003estorePassword=\u0026lt;password \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eprevious\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estep\u003c/span\u003e\u0026gt;    \u003cspan class=\"hljs-comment\"\u003e//输入上一步创建KEY时输入的 密钥库 密码\u003c/span\u003e\nkeyPassword=\u0026lt;password \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eprevious\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estep\u003c/span\u003e\u0026gt;    \u003cspan class=\"hljs-comment\"\u003e//输入上一步创建KEY时输入的 密钥 密码\u003c/span\u003e\nkeyAlias=key\nstoreFile=\u0026lt;E:\u003cspan class=\"hljs-regexp\"\u003e/key.jks\u0026gt;    /\u003c/span\u003e\u003cspan class=\"hljs-regexp\"\u003e/key.jks的存放路径\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e我的文件最后是这样的：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-attr\"\u003estorePassword\u003c/span\u003e=\u003cspan class=\"hljs-number\"\u003e123123\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003ekeyPassword\u003c/span\u003e=\u003cspan class=\"hljs-number\"\u003e123123\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003ekeyAlias\u003c/span\u003e=key\n\u003cspan class=\"hljs-attr\"\u003estoreFile\u003c/span\u003e=D:/key.jks\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e这个工作中也不要分享出去哦，这个Key就算生成成功了。\u003c/p\u003e\n\u003ca id=\"toc325\" href=\"#toc325\" class=\"anchor-fix\"\u003e\u003ch3\u003e配置key注册\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003ekey生成好后，需要在build.gradle文件中进行配置。这个过程其实很简单，就是粘贴复制一些东西，你是不需要知道这些文件的具体用处的。\u003c/p\u003e\n\u003cp\u003e第一项：\u003c/p\u003e\n\u003cp\u003e进入项目目录的/android/app/build.gradle文件，在\u003ccode\u003eandroid{\u003c/code\u003e这一行前面,加入如下代码：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ekeystorePropertiesFile\u003c/span\u003e = \u003cspan class=\"hljs-title\"\u003erootProject\u003c/span\u003e.\u003cspan class=\"hljs-title\"\u003efile\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(\u003cspan class=\"hljs-string\"\u003e\"key.properties\"\u003c/span\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ekeystoreProperties\u003c/span\u003e = \u003cspan class=\"hljs-title\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eProperties\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e\u003c/span\u003e\nkeystoreProperties.load(new FileInputStream(keystorePropertiesFile))\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e把如下代码进行替换\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-section\"\u003ebuildTypes\u003c/span\u003e {\n    \u003cspan class=\"hljs-section\"\u003erelease\u003c/span\u003e {\n        \u003cspan class=\"hljs-attribute\"\u003esigningConfig\u003c/span\u003e signingConfigs.\u003cspan class=\"hljs-literal\"\u003edebug\u003c/span\u003e\n    }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e替换成的代码：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-section\"\u003esigningConfigs\u003c/span\u003e {\n    \u003cspan class=\"hljs-section\"\u003erelease\u003c/span\u003e {\n        \u003cspan class=\"hljs-attribute\"\u003ekeyAlias\u003c/span\u003e keystoreProperties[\u003cspan class=\"hljs-string\"\u003e'keyAlias'\u003c/span\u003e]\n        keyPassword keystoreProperties[\u003cspan class=\"hljs-string\"\u003e'keyPassword'\u003c/span\u003e]\n        storeFile file(keystoreProperties[\u003cspan class=\"hljs-string\"\u003e'storeFile'\u003c/span\u003e])\n        storePassword keystoreProperties[\u003cspan class=\"hljs-string\"\u003e'storePassword'\u003c/span\u003e]\n    }\n}\nbuildTypes {\n    \u003cspan class=\"hljs-section\"\u003erelease\u003c/span\u003e {\n        \u003cspan class=\"hljs-attribute\"\u003esigningConfig\u003c/span\u003e signingConfigs.release\n    }\n}\u003c/code\u003e\u003c/pre\u003e\u003ca id=\"toc326\" href=\"#toc326\" class=\"anchor-fix\"\u003e\u003ch3\u003e生成apk\u003c/h3\u003e\u003c/a\u003e\n\u003cp\u003e直接在终端中输入：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-symbol\"\u003eflutter\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ebuild \u003c/span\u003eapk\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e这时候就打包成功了，剩下的安装过程我就省略，不作过多的介绍了。\u003c/p\u003e\n","introduce_html":"\u003cp\u003e到目前为止，作一个页面已经没有什么问题了，接下来需要学习一下页面间的跳转，学会了这一季内容，就可以从一个单页面的应用制作一个项目了。\u003c/p\u003e\n\u003cp\u003e不过提前跟小伙伴们说一下，其实这章也是有难度的，因为这跟前端的导航或者说超链接有所不同。如果你能有空杯心态，学习来会容易一点。\u003c/p\u003e\n\u003cp\u003e不过你不要害怕，其实也不难，大不了多练习几遍，熟练一下就好。\u003c/p\u003e\n","addTime":"2019-12-05","isComment":0,"typeName":"视频教程","token":"340010392288478300","bibidaoList":[{"id":56,"title":"B站给程序员发奖牌了 感谢所有粉丝","url":"https://www.bilibili.com/video/BV1sk4y1B71x/","image":"http://newimg.jspang.com/bbd-jiangpai.jpg","order_id":0,"type_id":1},{"id":55,"title":"硅谷大佬都在用的程序十步学习法（下）","url":"https://www.bilibili.com/video/BV1uz4y1Q7Dq/","image":"http://newimg.jspang.com/bbd36.jpg","order_id":0,"type_id":1},{"id":54,"title":"硅谷大佬都在用的程序十步学习法（上）","url":"https://www.bilibili.com/video/BV1mC4y1h7NF","image":"http://newimg.jspang.com/BBD35lOGO.jpg","order_id":0,"type_id":1},{"id":53,"title":"程序员自学成才指北-老程序员给新手的四条自学经验","url":"https://www.bilibili.com/video/BV1Pk4y1B7j1","image":"http://newimg.jspang.com/bbd34logo.png","order_id":0,"type_id":1}]}},"page":"/detailed","query":{"id":"44"},"buildId":"lelxlvW6_6jgKu5q5j61K"}</script><script async="" data-next-page="/detailed" src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/detailed.js.下载"></script><script async="" data-next-page="/_app" src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/_app.js.下载"></script><script src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/webpack-4b444dab214c6491079c.js.下载" async=""></script><script src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/commons.feacce8b48cd0477acc6.js.下载" async=""></script><script src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/styles.ced8d62e68907a5fab6e.js.下载" async=""></script><script src="./技术胖- Flutter免费视频第四季-页面导航和其他_files/main-6e6e334c1a3c61df2d4f.js.下载" async=""></script></body></html>